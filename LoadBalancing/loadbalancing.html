<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Load Balancing ka Funda - Fullstackgada Interactive Demo</title>
    <link rel="stylesheet" href="/interactive-demo.css">
</head>
<body>
    <div class="container">
       <div class="header-interactive" style="position:relative;">
        <h1>Load Balancing ka Funda</h1>
        <p>Understand how Load Balancing works with Fullstackgada</p>
       <div class="explore-diagrams-btn-wrapper">
            <a href="/interactive.html" class="explore-diagrams-btn">
                <img src="/image/plus-circle.svg" alt="Instagram icon"> More Diagrams
            </a>
        </div>
       <div class="follow-btn-wrapper">
            <a href="https://www.instagram.com/fullstackgada" target="_blank" class="follow-btn">
    <img src="/image/instagram.svg" alt="Instagram icon"> Follow for More
</a>
        </div>
    </div>

        <!-- Analogy & Basic Explanation -->
        <div class="demo-section">
            <h2>âš–ï¸ Load Balancing kya hai?</h2>
            <div class="explanation">
                <strong>Load Balancing:</strong> Website pe aane wali user requests ko kai servers mein baantna taaki site slow na ho aur crash na kare!
            </div>
            <div class="saree-analogy">
                <h4>ğŸ’• Analogy</h4>
                <div class="saree-step">
                    <div class="saree-emoji">ğŸ˜</div>
                    <div><strong>Single Server:</strong> Jaise Babita ki ek muskaan hazaaron dilon ka bhaar badha de, waise hi ek server pe saara load aa jaye toh woh bhi thak jayega!</div>
                </div>
                <div class="saree-step">
                    <div class="saree-emoji">âš–ï¸</div>
                    <div><strong>Load Balancer:</strong> Muskaan ka bhaar sabko barabar baant do (servers ka load balance karo)</div>
                </div>
            </div>
        </div>

        <!-- Load Balancing Interactive Simulator -->
        <div class="demo-section">
            <h2>ğŸ¯ Load Balancer Simulator</h2>
            <div class="explanation">
                <strong>Experiment karo:</strong> Requests ko servers mein baari-baari (Round Robin) ya load-based tareeke se baanto!
            </div>
            <div style="margin-bottom: 1rem;">
                <label>Algorithm: </label>
                <select id="lbAlgorithm">
                    <option value="roundrobin">ğŸ”„ Round Robin</option>
                    <option value="leastload">ğŸ“Š Load-Based</option>
                </select>
                <div style="display: flex; gap: 10px;">
                    <button class="demo-btn" onclick="startSim()">ğŸš¦ Simulation Shuru Karo</button>
                    <button class="demo-btn clear-btn" onclick="resetSim()">ğŸ”„ Reset Karo</button>
                </div>
            </div>
            <div class="memory-diagram" id="loadBalancingServers">
                <div class="memory-slot" id="server1">
                    <div class="variable-name">ğŸ–¥ï¸ Server 1</div>
                    <div class="variable-value">Load: 0</div>
                </div>
                <div class="memory-slot" id="server2">
                    <div class="variable-name">ğŸ–¥ï¸ Server 2</div>
                    <div class="variable-value">Load: 0</div>
                </div>
                <div class="memory-slot" id="server3">
                    <div class="variable-name">ğŸ–¥ï¸ Server 3</div>
                    <div class="variable-value">Load: 0</div>
                </div>
            </div>
            <div style="margin: 1rem 0; display: flex; gap: 10px;">
                <button class="demo-btn first-btn" onclick="simulateRequest()">ğŸ’¡ Ek User Request Daalo</button>
                <button class="demo-btn" onclick="generateSpike()">ğŸ“ˆ Traffic Spike (10 requests)</button>
            </div>
            <div id="lbStats"></div>
        </div>

        <!-- Auto Scaling Explanation -->
        <div class="demo-section">
            <h2>ğŸ“ˆ Auto Scaling kya hai?</h2>
            <div class="explanation">
                <strong>Auto Scaling:</strong> Zarurat badhne par naye servers apne aap system mein jud jaate hain, taaki site kabhi crash na ho!
            </div>
            <div class="how-it-works">
                <div class="step"><div class="step-number">1</div> Users badhe â†’ Load balancer dekhta hai ki load badh gaya</div>
                <div class="step"><div class="step-number">2</div> System naye servers launch karta hai (Auto-Scaling)</div>
                <div class="step"><div class="step-number">3</div> Load sabme barabar baant jata hai â†’ Hamesha smooth experience</div>
            </div>
        </div>

        <!-- Practical Implementation Table -->
        <div class="comparison-section">
            <h3>ğŸ› ï¸ Implementation ke Options</h3>
            <table class="comparison-table responsive-table">
                <thead>
                    <tr>
                        <th>Kram</th>
                        <th>Solution</th>
                        <th>Feature</th>
                        <th>Best For</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>NGINX</td>
                        <td>Open source, config-based[8]</td>
                        <td>Self-hosted web apps</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>AWS ELB</td>
                        <td>Auto-scaling, seamless cloud setup[9]</td>
                        <td>Bade scale ka production traffic</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>Cloudflare</td>
                        <td>Global load, performance aur DDoS protection</td>
                        <td>Duniya bhar ke users/static sites</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // --- Load Balancer Simulator ---
        let serverLoads = [0, 0, 0];
        let rrIndex = 0;
        let trafficCounter = 0;
        let simRunning = false;
        function updateServers() {
            for (let i = 1; i <= 3; i++) {
                document.getElementById('server' + i).querySelector('.variable-value').textContent =
                    `Load: ${serverLoads[i - 1]}`;
            }
            document.getElementById('lbStats').innerHTML = "<strong>Total user requests:</strong> " + trafficCounter +
                "<br><strong>Servers ka load:</strong> " + serverLoads.map((l, i) => `Server ${i + 1}: ${l}`).join(", ");
        }
        function simulateRequest() {
            const alg = document.getElementById('lbAlgorithm').value;
            trafficCounter++;
            if (alg === "roundrobin") {
                serverLoads[rrIndex % 3]++;
                rrIndex++;
            } else {
                // load-based: sabse kam load wale server ko assign karo
                const minIndex = serverLoads.indexOf(Math.min(...serverLoads));
                serverLoads[minIndex]++;
            }
            updateServers();
        }
        function generateSpike() {
            for (let i = 0; i < 10; i++) setTimeout(simulateRequest, 100 * i);
        }
        function startSim() {
            if (simRunning) return;
            simRunning = true;
            for (let i = 0; i < 30; i++) setTimeout(simulateRequest, i * 100);
        }
        function resetSim() {
            serverLoads = [0, 0, 0];
            rrIndex = 0;
            trafficCounter = 0;
            simRunning = false;
            updateServers();
        }
        updateServers();
    </script>
</body>
</html>