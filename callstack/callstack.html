<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Call Stack Interactive Demo | Fullstackgada</title>
  <meta name="description" content="Explore the JavaScript Call Stack with an interactive demo! Learn how function calls work, prevent stack overflow, and see real-time visualizations.">
  <meta name="author" content="Fullstackgada">
  <meta name="robots" content="index, follow">

  <!-- Canonical -->
  <link rel="canonical" href="https://fullstackgada.netlify.app/callstack/callstack">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/image/favicon.ico">

  <!-- Styles -->
  <link rel="stylesheet" href="/interactive-demo.css">
  <link rel="preload" href="/interactive-demo.css" as="style">

  <!-- Open Graph Tags -->
  <meta property="og:title" content="Call Stack Interactive Demo | Fullstackgada">
  <meta property="og:description" content="Discover the JavaScript Call Stack with an interactive demo! Learn function execution, recursion, and stack overflow prevention.">
  <meta property="og:url" content="https://fullstackgada.netlify.app/callstack/callstack">
  <meta property="og:type" content="article">
  <meta property="og:image" content="https://fullstackgada.netlify.app/callstack/callstack.webp">

  <!-- Twitter Card Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Call Stack Interactive Demo | Fullstackgada">
  <meta name="twitter:description" content="Learn the JavaScript Call Stack with an interactive demo, covering function calls, recursion, and stack overflow prevention.">
  <meta name="twitter:image" content="https://fullstackgada.netlify.app/callstack/callstack.webp">

  <!-- Article Schema Markup -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "Call Stack Interactive Demo",
    "description": "Explore the JavaScript Call Stack with an interactive demo, covering function execution, recursion, and stack overflow prevention techniques.",
    "author": {
      "@type": "Person",
      "name": "Fullstackgada"
    },
    "url": "https://fullstackgada.netlify.app/callstack/callstack",
    "datePublished": "2025-09-09",
    "dateModified": "2025-09-09",
    "publisher": {
      "@type": "Organization",
      "name": "Fullstackgada",
      "logo": {
        "@type": "ImageObject",
        "url": "https://fullstackgada.netlify.app/image/favicon.ico"
      }
    }
  }
  </script>

  <!-- FAQ Schema Markup -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What is the JavaScript Call Stack?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "The JavaScript Call Stack is a data structure that keeps track of function calls. It follows a Last-In-First-Out (LIFO) order, where the most recent function call is executed first and removed when finished."
        }
      },
      {
        "@type": "Question",
        "name": "What causes a stack overflow in JavaScript?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "A stack overflow occurs when too many function calls are added to the call stack without being removed, often caused by infinite or poorly controlled recursion."
        }
      },
      {
        "@type": "Question",
        "name": "How can you prevent stack overflow errors?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "To prevent stack overflow errors, avoid infinite recursion, use iterative solutions when possible, implement base cases in recursive functions, and optimize tail recursion where supported."
        }
      }
    ]
  }
  </script>
</head>

<body>
    <div class="container">
        <!-- Header Section -->
        <div class="header-interactive" style="position:relative;">
            <h1>Call Stack Interactive Demo</h1>
            <p>Master the JavaScript Call Stack with Fullstackgada! üìö</p>
            <div class="explore-diagrams-btn-wrapper">
                <a href="/interactive.html" class="explore-diagrams-btn">
                    <img src="/image/plus-circle.svg" alt="More diagrams icon"> More Diagrams
                </a>
            </div>
            <div class="follow-btn-wrapper">
                <a href="https://www.instagram.com/fullstackgada" target="_blank" class="follow-btn">
                    <img src="/image/instagram.svg" alt="Instagram icon"> Follow for More
                </a>
            </div>
        </div>

        <!-- Demo Grid -->
        <div class="demo-grid">
            <!-- Call Stack Concept Explanation -->
            <div class="demo-section">
                <h2 class="demo-title">üìö What is a Call Stack?</h2>
                
                <div class="explanation">
                    <strong>Call Stack:</strong> A JavaScript memory structure that tracks function calls in a LIFO (Last-In, First-Out) order!
                </div>

                <!-- Analogy -->
                <div class="saree-analogy">
                    <h4>üíñ Notification Analogy</h4>
                    <div class="saree-step">
                        <div class="saree-emoji">üìö</div>
                        <div><strong>Stack Base:</strong> The main program (like your app's core).</div>
                    </div>
                    <div class="saree-step">
                        <div class="saree-emoji">üìû</div>
                        <div><strong>Function Call:</strong> A new notification (added to the stack).</div>
                    </div>
                    <div class="saree-step">
                        <div class="saree-emoji">üî•</div>
                        <div><strong>Infinite Recursion:</strong> Notifications keep piling up (stack overflow!).</div>
                    </div>
                    <div class="saree-step">
                        <div class="saree-emoji">üõë</div>
                        <div><strong>Base Condition:</strong> A way to clear notifications.</div>
                    </div>
                </div>

                <!-- Call Stack Demo Controls -->
                <div class="demo-controls">
                    <button class="demo-btn first-btn" onclick="demonstrateNormalStack()" role="button" aria-label="Demonstrate Normal Function Stack">üìö Normal Function Stack</button>
                    <button class="demo-btn" onclick="demonstrateInfiniteRecursion()" role="button" aria-label="Demonstrate Infinite Recursion">üî• Infinite Recursion Demo</button>
                    <button class="demo-btn" onclick="demonstrateProperRecursion()" role="button" aria-label="Demonstrate Proper Recursion">‚úÖ Proper Recursion</button>
                    <button class="demo-btn clear-btn" onclick="clearCallStackDemo()" role="button" aria-label="Clear Demo">üóëÔ∏è Clear</button>
                </div>

                <!-- Demo Results -->
                <div class="demo-area" id="callStackResults">
                    <div class="event-message one-message">
                        Click the buttons above to explore the Call Stack in action!
                    </div>
                </div>
            </div>

            <!-- Live Call Stack Visualizer -->
            <div class="demo-section">
                <h2 class="demo-title">üëÅÔ∏è Live Call Stack Visualizer</h2>
                
                <div class="explanation one-explanation">
                    <strong>Real-time:</strong> Watch function calls execute step-by-step!
                </div>

                <!-- Stack Visualization -->
                <div class="memory-diagram" id="stackVisualization">
                    <div class="memory-slot" style="background: #e3f2fd;">
                        <div class="variable-name">üìö Call Stack</div>
                        <div class="variable-value">Empty - Ready for function calls</div>
                    </div>
                </div>

                <!-- Function Examples -->
                <div class="demo-controls">
                    <button class="demo-btn first-btn" onclick="runSimpleFunction()" role="button" aria-label="Run Simple Function">üèÉ‚Äç‚ôÇÔ∏è Run Simple Function</button>
                    <button class="demo-btn" onclick="runNestedFunctions()" role="button" aria-label="Run Nested Functions">ü™Ü Run Nested Functions</button>
                    <button class="demo-btn" onclick="runRecursiveFunction()" role="button" aria-label="Run Recursive Function">üîÑ Run Recursive Function</button>
                    <button class="demo-btn clear-btn" onclick="clearStack()" role="button" aria-label="Clear Stack">üßπ Clear Stack</button>
                </div>

                <!-- Code Display -->
                <div class="code-block" id="currentCode">
                    <div class="code-line comment">// Function code will appear here</div>
                    <div class="code-line">Click buttons above to see function execution!</div>
                </div>
            </div>
        </div>

        <!-- Stack Overflow Prevention -->
        <div class="demo-section" style="grid-column: 1 / -1;">
            <h2 class="demo-title">üõ°Ô∏è How to Prevent Stack Overflow?</h2>
            
            <div class="explanation">
                <strong>Prevention Techniques:</strong> Practical ways to avoid infinite recursion!
            </div>

            <div class="tabs">
                <button class="tab active" onclick="showPreventionMethod('base-condition')" role="button" aria-label="Show Base Condition">üõë Base Condition</button>
                <button class="tab" onclick="showPreventionMethod('iteration-alternative')" role="button" aria-label="Show Iteration Alternative">üîÑ Iteration Alternative</button>
                <button class="tab" onclick="showPreventionMethod('tail-recursion')" role="button" aria-label="Show Tail Recursion">üéØ Tail Recursion</button>
                <button class="tab" onclick="showPreventionMethod('stack-monitoring')" role="button" aria-label="Show Stack Monitoring">üìä Stack Monitoring</button>
            </div>

            <!-- Base Condition -->
            <div id="base-condition" class="tab-content active">
                <div class="code-container">
                    <div class="code-block">
                        <div class="code-line comment">// üõë Base Condition - Stop Recursion Safely</div>
                        <div class="code-line comment">// ‚ùå Infinite Recursion Problem</div>
                        <div class="code-line var-declaration">function notifyFunction() {</div>
                        <div class="code-line var-usage">  console.log("Sending notification...");</div>
                        <div class="code-line var-usage">  notifyFunction(); // üî• Infinite recursion!</div>
                        <div class="code-line var-declaration">}</div>
                        <div class="code-line"></div>
                        <div class="code-line comment">// ‚úÖ Correct Solution with Base Condition</div>
                        <div class="code-line var-declaration">function notifyFunctionFixed(count = 0) {</div>
                        <div class="code-line var-usage">  // Base condition to stop recursion</div>
                        <div class="code-line var-usage">  if (count >= 5) {</div>
                        <div class="code-line var-usage">    console.log("Notifications stopped! üòä");</div>
                        <div class="code-line var-usage">    return; // Exit the stack</div>
                        <div class="code-line var-usage">  }</div>
                        <div class="code-line"></div>
                        <div class="code-line var-usage">  console.log(`Sending notification... ${count + 1}`);</div>
                        <div class="code-line var-usage">  notifyFunctionFixed(count + 1); // Increment and call</div>
                        <div class="code-line var-declaration">}</div>
                        <div class="code-line"></div>
                        <div class="code-line comment">// Test it</div>
                        <div class="code-line var-usage">notifyFunctionFixed(); // Safe, runs 5 times</div>
                    </div>
                </div>
                <button class="demo-btn first-btn" onclick="testBaseCondition()" role="button" aria-label="Test Base Condition">üõë Test Base Condition</button>
                <div id="baseConditionResult" class="result-panel" style="margin-top: 1rem;">
                    <div class="result-content">Click to test base condition example...</div>
                </div>
            </div>

            <!-- Iteration Alternative -->
            <div id="iteration-alternative" class="tab-content">
                <div class="code-container">
                    <div class="code-block">
                        <div class="code-line comment">// üîÑ Recursion Alternative - Use Loops</div>
                        <div class="code-line comment">// Problem: Calculate factorial recursively</div>
                        <div class="code-line var-declaration">function factorialRecursive(n) {</div>
                        <div class="code-line var-usage">  if (n <= 1) return 1; // Base condition</div>
                        <div class="code-line var-usage">  return n * factorialRecursive(n - 1); // Recursive call</div>
                        <div class="code-line var-declaration">}</div>
                        <div class="code-line"></div>
                        <div class="code-line comment">// ‚úÖ Better Solution - Iterative Approach</div>
                        <div class="code-line var-declaration">function factorialIterative(n) {</div>
                        <div class="code-line var-usage">  let result = 1;</div>
                        <div class="code-line var-usage">  for (let i = 2; i <= n; i++) {</div>
                        <div class="code-line var-usage">    result *= i;</div>
                        <div class="code-line var-usage">  }</div>
                        <div class="code-line var-usage">  return result;</div>
                        <div class="code-line var-declaration">}</div>
                        <div class="code-line"></div>
                        <div class="code-line comment">// Fibonacci - Recursive vs Iterative</div>
                        <div class="code-line var-declaration">function fibonacciIterative(n) {</div>
                        <div class="code-line var-usage">  if (n <= 1) return n;</div>
                        <div class="code-line var-usage">  let a = 0, b = 1;</div>
                        <div class="code-line var-usage">  for (let i = 2; i <= n; i++) {</div>
                        <div class="code-line var-usage">    [a, b] = [b, a + b]; // Swap and add</div>
                        <div class="code-line var-usage">  }</div>
                        <div class="code-line var-usage">  return b;</div>
                        <div class="code-line var-declaration">}</div>
                        <div class="code-line"></div>
                        <div class="code-line comment">// Benefits: No stack overflow, better performance</div>
                        <div class="code-line var-usage">console.log(factorialIterative(10));  // Safe</div>
                        <div class="code-line var-usage">console.log(fibonacciIterative(50)); // Stack safe</div>
                    </div>
                </div>
                <button class="demo-btn first-btn" onclick="testIterativeAlternative()" role="button" aria-label="Test Iterative Solutions">üîÑ Test Iterative Solutions</button>
                <div id="iterativeResult" class="result-panel" style="margin-top: 1rem;">
                    <div class="result-content">Click to test iterative alternatives...</div>
                </div>
            </div>

            <!-- Tail Recursion -->
            <div id="tail-recursion" class="tab-content">
                <div class="code-container">
                    <div class="code-block">
                        <div class="code-line comment">// üéØ Tail Recursion - Optimized Recursion</div>
                        <div class="code-line comment">// Normal Recursion (Stack heavy)</div>
                        <div class="code-line var-declaration">function normalFactorial(n) {</div>
                        <div class="code-line var-usage">  if (n <= 1) return 1;</div>
                        <div class="code-line var-usage">  return n * normalFactorial(n - 1); // Stack-heavy operation</div>
                        <div class="code-line var-declaration">}</div>
                        <div class="code-line"></div>
                        <div class="code-line comment">// ‚úÖ Tail Recursion (Stack optimized)</div>
                        <div class="code-line var-declaration">function tailFactorial(n, accumulator = 1) {</div>
                        <div class="code-line var-usage">  if (n <= 1) return accumulator;</div>
                        <div class="code-line var-usage">  return tailFactorial(n - 1, n * accumulator); // No pending operation</div>
                        <div class="code-line var-declaration">}</div>
                        <div class="code-line"></div>
                        <div class="code-line comment">// Tail Recursive Sum</div>
                        <div class="code-line var-declaration">function tailSum(n, accumulator = 0) {</div>
                        <div class="code-line var-usage">  if (n <= 0) return accumulator;</div>
                        <div class="code-line var-usage">  return tailSum(n - 1, accumulator + n);</div>
                        <div class="code-line var-declaration">}</div>
                        <div class="code-line"></div>
                        <div class="code-line comment">// Tail Recursive Array Processing</div>
                        <div class="code-line var-declaration">function tailArraySum(arr, index = 0, sum = 0) {</div>
                        <div class="code-line var-usage">  if (index >= arr.length) return sum;</div>
                        <div class="code-line var-usage">  return tailArraySum(arr, index + 1, sum + arr[index]);</div>
                        <div class="code-line var-declaration">}</div>
                        <div class="code-line"></div>
                        <div class="code-line comment">// Usage Examples</div>
                        <div class="code-line var-usage">console.log(tailFactorial(5));    // 120</div>
                        <div class="code-line var-usage">console.log(tailSum(100));        // 5050</div>
                        <div class="code-line var-usage">console.log(tailArraySum([1,2,3,4,5])); // 15</div>
                    </div>
                </div>
                <button class="demo-btn first-btn" onclick="testTailRecursion()" role="button" aria-label="Test Tail Recursion">üéØ Test Tail Recursion</button>
                <div id="tailRecursionResult" class="result-panel" style="margin-top: 1rem;">
                    <div class="result-content">Click to test tail recursion examples...</div>
                </div>
            </div>

            <!-- Stack Monitoring -->
            <div id="stack-monitoring" class="tab-content">
                <div class="code-container">
                    <div class="code-block">
                        <div class="code-line comment">// üìä Stack Monitoring - Depth Control</div>
                        <div class="code-line var-declaration">function safeRecursion(n, depth = 0, maxDepth = 1000) {</div>
                        <div class="code-line var-usage">  // Stack depth check</div>
                        <div class="code-line var-usage">  if (depth > maxDepth) {</div>
                        <div class="code-line var-usage">    throw new Error(`Stack overflow prevented! Max depth: ${maxDepth}`);</div>
                        <div class="code-line var-usage">  }</div>
                        <div class="code-line"></div>
                        <div class="code-line var-usage">  if (n <= 1) return 1;</div>
                        <div class="code-line var-usage">  return n * safeRecursion(n - 1, depth + 1, maxDepth);</div>
                        <div class="code-line var-declaration">}</div>
                        <div class="code-line"></div>
                        <div class="code-line comment">// Error Handling Wrapper</div>
                        <div class="code-line var-declaration">function executeWithStackProtection(fn, ...args) {</div>
                        <div class="code-line var-usage">  try {</div>
                        <div class="code-line var-usage">    return fn(...args);</div>
                        <div class="code-line var-usage">  } catch (error) {</div>
                        <div class="code-line var-usage">    if (error.name === 'RangeError' && error.message.includes('Maximum call stack')) {</div>
                        <div class="code-line var-usage">      console.error('üö® Stack Overflow Detected!');</div>
                        <div class="code-line var-usage">      console.error('üí° Suggestion: Add base condition or use iteration');</div>
                        <div class="code-line var-usage">      return 'STACK_OVERFLOW_ERROR';</div>
                        <div class="code-line var-usage">    }</div>
                        <div class="code-line var-usage">    throw error; // Re-throw other errors</div>
                        <div class="code-line var-usage">  }</div>
                        <div class="code-line var-declaration">}</div>
                        <div class="code-line"></div>
                        <div class="code-line comment">// Stack Size Detection</div>
                        <div class="code-line var-declaration">function getMaxStackSize() {</div>
                        <div class="code-line var-usage">  let depth = 0;</div>
                        <div class="code-line var-usage">  function probe() {</div>
                        <div class="code-line var-usage">    depth++;</div>
                        <div class="code-line var-usage">    try { probe(); } catch (e) { return depth; }</div>
                        <div class="code-line var-usage">  }</div>
                        <div class="code-line var-usage">  return probe();</div>
                        <div class="code-line var-declaration">}</div>
                    </div>
                </div>
                <button class="demo-btn first-btn" onclick="testStackMonitoring()" role="button" aria-label="Test Stack Monitoring">üìä Test Stack Monitoring</button>
                <div id="stackMonitoringResult" class="result-panel" style="margin-top: 1rem;">
                    <div class="result-content">Click to test stack monitoring techniques...</div>
                </div>
            </div>
        </div>

        <!-- Recursion Best Practices -->
        <div class="comparison-section">
            <h3>üí° Recursion Best Practices</h3>
            
            <table class="comparison-table responsive-table">
                <thead>
                    <tr>
                        <th>Practice</th>
                        <th>‚úÖ Good Example</th>
                        <th>‚ùå Bad Example</th>
                        <th>Explanation</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Base Condition</strong></td>
                        <td><code>if (n <= 0) return 1;</code></td>
                        <td><code>// No base condition</code></td>
                        <td>Always include a condition to stop recursion.</td>
                    </tr>
                    <tr>
                        <td><strong>Parameter Progression</strong></td>
                        <td><code>func(n - 1)</code> where n decreases</td>
                        <td><code>func(n)</code> same parameter</td>
                        <td>Ensure parameters progress toward the base condition.</td>
                    </tr>
                    <tr>
                        <td><strong>Depth Limit</strong></td>
                        <td>Small inputs (n < 1000)</td>
                        <td>Large inputs (n > 10000)</td>
                        <td>Prevent stack overflow with reasonable limits.</td>
                    </tr>
                    <tr>
                        <td><strong>Use Cases</strong></td>
                        <td>Tree traversal, divide-and-conquer</td>
                        <td>Simple loops, linear operations</td>
                        <td>Use recursion for complex problems, not simple tasks.</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Common Stack Overflow Scenarios -->
        <div class="comparison-section">
            <h3>üî• Common Stack Overflow Scenarios</h3>
            
            <table class="comparison-table responsive-table">
                <thead>
                    <tr>
                        <th>Scenario</th>
                        <th>Problem Code</th>
                        <th>Solution</th>
                        <th>Prevention</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Direct Recursion</strong></td>
                        <td><code>function a() { a(); }</code></td>
                        <td>Add base condition</td>
                        <td>Always plan an exit strategy.</td>
                    </tr>
                    <tr>
                        <td><strong>Indirect Recursion</strong></td>
                        <td><code>function a() { b(); } function b() { a(); }</code></td>
                        <td>Add counter/limit check</td>
                        <td>Trace function call flow.</td>
                    </tr>
                    <tr>
                        <td><strong>Deep Recursion</strong></td>
                        <td><code>factorial(50000)</code></td>
                        <td>Use iteration or tail recursion</td>
                        <td>Consider iterative alternatives.</td>
                    </tr>
                    <tr>
                        <td><strong>Wrong Base Case</strong></td>
                        <td><code>if (n == 0)</code> but n never becomes 0</td>
                        <td>Fix condition logic</td>
                        <td>Test edge cases thoroughly.</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        let stackItems = [];
        let isStackRunning = false;

        // Call Stack demonstration functions
        function demonstrateNormalStack() {
            const result = document.getElementById('callStackResults');
            
            result.innerHTML = `
                <div class="success-message">
                    <strong>üìö Normal Function Stack Flow</strong><br><br>
                    <strong>Example:</strong> Proper order of function calls<br><br>
                    <pre>
function first() {
    console.log("First function start");
    second();
    console.log("First function end");
}

function second() {
    console.log("Second function start");
    third();
    console.log("Second function end");
}

function third() {
    console.log("Third function");
}

first(); // Execute call
                    </pre>
                    <strong>Call Stack Order:</strong><br>
                    1Ô∏è‚É£ first() pushed to stack<br>
                    2Ô∏è‚É£ second() pushed to stack<br>
                    3Ô∏è‚É£ third() pushed to stack<br>
                    4Ô∏è‚É£ third() completed, popped from stack<br>
                    5Ô∏è‚É£ second() completed, popped from stack<br>
                    6Ô∏è‚É£ first() completed, popped from stack<br><br>
                    <strong>LIFO Pattern:</strong> Last-In, First-Out works perfectly!
                    <div class="message-time">${new Date().toLocaleTimeString()}</div>
                </div>
            `;
        }

        function demonstrateInfiniteRecursion() {
            const result = document.getElementById('callStackResults');
            
            result.innerHTML = `
                <div class="error-message">
                    <strong>üî• Infinite Recursion Problem</strong><br><br>
                    <strong>‚ö†Ô∏è WARNING:</strong> Don't run this code! It's an example only<br><br>
                    <pre>
function notifyFunction() {
    console.log("Sending notification...");
    notifyFunction(); // üö® Infinite recursion!
}

notifyFunction(); // Could crash the browser!
                    </pre>
                    <strong>Problem Analysis:</strong><br>
                    üî¥ No base condition to stop recursion<br>
                    üî¥ Function calls itself indefinitely<br>
                    üî¥ Stack keeps piling up with function calls<br>
                    üî¥ Memory limit gets exhausted<br>
                    üî¥ "RangeError: Maximum call stack size exceeded"<br><br>
                    <strong>Call Stack State:</strong><br>
                    notifyFunction() ‚Üí notifyFunction() ‚Üí notifyFunction() ‚Üí ... ‚àû<br><br>
                    <strong>Advice:</strong> "Add a base condition to avoid stack overflow!" üíî
                    <div class="message-time">${new Date().toLocaleTimeString()}</div>
                </div>
            `;
        }

        function demonstrateProperRecursion() {
            const result = document.getElementById('callStackResults');
            
            result.innerHTML = `
                <div class="success-message">
                    <strong>‚úÖ Proper Recursion with Base Condition</strong><br><br>
                    <strong>Fixed Example:</strong> Safe recursion pattern<br><br>
                    <pre>
function notifyFunctionFixed(count = 0) {
    // üõë Base condition to stop recursion
    if (count >= 5) {
        console.log("Notifications stopped! üòä");
        return; // Exit the stack
    }
    
    console.log(\`Sending notification... \${count + 1}\`);
    notifyFunctionFixed(count + 1); // Increment and call
}

notifyFunctionFixed(); // Safe execution
                    </pre>
                    <strong>Execution Flow:</strong><br>
                    1Ô∏è‚É£ notifyFunctionFixed(0) - "Sending notification... 1"<br>
                    2Ô∏è‚É£ notifyFunctionFixed(1) - "Sending notification... 2"<br>
                    3Ô∏è‚É£ notifyFunctionFixed(2) - "Sending notification... 3"<br>
                    4Ô∏è‚É£ notifyFunctionFixed(3) - "Sending notification... 4"<br>
                    5Ô∏è‚É£ notifyFunctionFixed(4) - "Sending notification... 5"<br>
                    6Ô∏è‚É£ notifyFunctionFixed(5) - "Notifications stopped!" ‚úÖ<br><br>
                    <strong>Stack properly cleared!</strong> No overflow, happy recursion! üéâ
                    <div class="message-time">${new Date().toLocaleTimeString()}</div>
                </div>
            `;
        }

        function clearCallStackDemo() {
            document.getElementById('callStackResults').innerHTML = `
                <div class="event-message one-message">
                    Click the buttons above to explore the Call Stack in action!
                </div>
            `;
        }

        // Live stack visualization functions
        function updateStackVisualization() {
            const container = document.getElementById('stackVisualization');
            
            if (stackItems.length === 0) {
                container.innerHTML = `
                    <div class="memory-slot" style="background: #e3f2fd;">
                        <div class="variable-name">üìö Call Stack</div>
                        <div class="variable-value">Empty - Ready for function calls</div>
                    </div>
                `;
                return;
            }

            let html = '';
            for (let i = stackItems.length - 1; i >= 0; i--) {
                const item = stackItems[i];
                const isTop = i === stackItems.length - 1;
                html += `
                    <div class="memory-slot" style="background: ${isTop ? '#ffeb3b' : '#f0f0f0'}; margin-bottom: 0.5rem;">
                        <div class="variable-name">${item.name}</div>
                        <div class="variable-value">${item.description}</div>
                    </div>
                `;
            }
            
            container.innerHTML = html;
        }

        function pushToStack(name, description) {
            stackItems.push({ name, description });
            updateStackVisualization();
        }

        function popFromStack() {
            const popped = stackItems.pop();
            updateStackVisualization();
            return popped;
        }

        function clearStack() {
            stackItems = [];
            updateStackVisualization();
            document.getElementById('currentCode').innerHTML = `
                <div class="code-line comment">// Function code will appear here</div>
                <div class="code-line">Click buttons above to see function execution!</div>
            `;
        }

        function runSimpleFunction() {
            if (isStackRunning) return;
            isStackRunning = true;
            
            document.getElementById('currentCode').innerHTML = `
                <div class="code-line comment">// üèÉ‚Äç‚ôÇÔ∏è Simple Function Execution</div>
                <div class="code-line var-declaration">function simpleFunction() {</div>
                <div class="code-line var-usage">    console.log("Hello from simple function!");</div>
                <div class="code-line var-usage">    return "Done";</div>
                <div class="code-line var-declaration">}</div>
                <div class="code-line"></div>
                <div class="code-line var-usage">simpleFunction(); // Calling the function</div>
            `;

            setTimeout(() => {
                pushToStack('üèÉ‚Äç‚ôÇÔ∏è simpleFunction()', 'Executing simple function');
                
                setTimeout(() => {
                    popFromStack();
                    isStackRunning = false;
                }, 1000);
            }, 500);
        }

        function runNestedFunctions() {
            if (isStackRunning) return;
            isStackRunning = true;
            
            document.getElementById('currentCode').innerHTML = `
                <div class="code-line comment">// ü™Ü Nested Functions Execution</div>
                <div class="code-line var-declaration">function outer() {</div>
                <div class="code-line var-usage">    console.log("Outer start");</div>
                <div class="code-line var-usage">    middle();</div>
                <div class="code-line var-usage">    console.log("Outer end");</div>
                <div class="code-line var-declaration">}</div>
                <div class="code-line var-declaration">function middle() {</div>
                <div class="code-line var-usage">    console.log("Middle start");</div>
                <div class="code-line var-usage">    inner();</div>
                <div class="code-line var-usage">    console.log("Middle end");</div>
                <div class="code-line var-declaration">}</div>
                <div class="code-line var-declaration">function inner() {</div>
                <div class="code-line var-usage">    console.log("Inner function");</div>
                <div class="code-line var-declaration">}</div>
            `;

            let step = 0;
            const steps = [
                () => pushToStack('ü™Ü outer()', 'Outer function executing'),
                () => pushToStack('üîÑ middle()', 'Middle function called'),
                () => pushToStack('üéØ inner()', 'Inner function called'),
                () => popFromStack(), // inner completes
                () => popFromStack(), // middle completes
                () => popFromStack()  // outer completes
            ];

            function executeStep() {
                if (step < steps.length) {
                    steps[step]();
                    step++;
                    setTimeout(executeStep, 800);
                } else {
                    isStackRunning = false;
                }
            }

            setTimeout(executeStep, 500);
        }

        function runRecursiveFunction() {
            if (isStackRunning) return;
            isStackRunning = true;
            
            document.getElementById('currentCode').innerHTML = `
                <div class="code-line comment">// üîÑ Recursive Function (Safe with base condition)</div>
                <div class="code-line var-declaration">function countdown(n) {</div>
                <div class="code-line var-usage">    if (n <= 0) {</div>
                <div class="code-line var-usage">        console.log("Blast off! üöÄ");</div>
                <div class="code-line var-usage">        return;</div>
                <div class="code-line var-usage">    }</div>
                <div class="code-line var-usage">    console.log(n);</div>
                <div class="code-line var-usage">    countdown(n - 1);</div>
                <div class="code-line var-declaration">}</div>
                <div class="code-line"></div>
                <div class="code-line var-usage">countdown(3); // Starting countdown</div>
            `;

            const recursiveSteps = [
                () => pushToStack('üîÑ countdown(3)', 'n = 3, calling countdown(2)'),
                () => pushToStack('üîÑ countdown(2)', 'n = 2, calling countdown(1)'),
                () => pushToStack('üîÑ countdown(1)', 'n = 1, calling countdown(0)'),
                () => pushToStack('üîÑ countdown(0)', 'n = 0, base case reached!'),
                () => popFromStack(), // countdown(0) completes
                () => popFromStack(), // countdown(1) completes
                () => popFromStack(), // countdown(2) completes
                () => popFromStack()  // countdown(3) completes
            ];

            let step = 0;
            function executeRecursiveStep() {
                if (step < recursiveSteps.length) {
                    recursiveSteps[step]();
                    step++;
                    setTimeout(executeRecursiveStep, 1000);
                } else {
                    isStackRunning = false;
                }
            }

            setTimeout(executeRecursiveStep, 500);
        }

        // Prevention method test functions
        function testBaseCondition() {
            document.getElementById('baseConditionResult').innerHTML = `
                <div class="success-message">
                    <strong>üõë Base Condition Test Results</strong><br><br>
                    <div style="background: #2d3748; color: #e2e8f0; padding: 1rem; border-radius: 8px; margin: 0.5rem 0; font-family: monospace;">
Sending notification... 1<br>
Sending notification... 2<br>
Sending notification... 3<br>
Sending notification... 4<br>
Sending notification... 5<br>
Notifications stopped! üòä
                    </div>
                    <strong>Analysis:</strong><br>
                    ‚úÖ Base condition worked: count >= 5<br>
                    ‚úÖ Recursion stopped safely<br>
                    ‚úÖ No stack overflow<br>
                    ‚úÖ All function calls properly returned<br><br>
                    <strong>Stack Depth:</strong> Maximum 6 levels (safe!)<br>
                    <strong>Tip:</strong> "Perfect! No stack overflow with a proper base condition!" üíñ
                </div>
            `;
        }

        function testIterativeAlternative() {
            function factorialIterative(n) {
                let result = 1;
                for (let i = 2; i <= n; i++) {
                    result *= i;
                }
                return result;
            }

            function fibonacciIterative(n) {
                if (n <= 1) return n;
                let a = 0, b = 1;
                for (let i = 2; i <= n; i++) {
                    [a, b] = [b, a + b];
                }
                return b;
            }

            const factorial10 = factorialIterative(10);
            const fibonacci15 = fibonacciIterative(15);

            document.getElementById('iterativeResult').innerHTML = `
                <div class="success-message">
                    <strong>üîÑ Iterative Solutions Test Results</strong><br><br>
                    <strong>Performance Comparison:</strong><br>
                    üìä factorial(10) = ${factorial10} (iterative)<br>
                    üìä fibonacci(15) = ${fibonacci15} (iterative)<br><br>
                    <strong>Benefits:</strong><br>
                    ‚úÖ No stack overflow risk<br>
                    ‚úÖ Better memory efficiency<br>
                    ‚úÖ Faster execution for large inputs<br>
                    ‚úÖ Easier to debug and understand<br><br>
                    <strong>When to Use:</strong><br>
                    ‚Ä¢ Simple mathematical calculations<br>
                    ‚Ä¢ Array/string processing<br>
                    ‚Ä¢ When stack depth is a concern<br>
                    ‚Ä¢ Performance-critical applications
                </div>
            `;
        }

        function testTailRecursion() {
            function tailFactorial(n, accumulator = 1) {
                if (n <= 1) return accumulator;
                return tailFactorial(n - 1, n * accumulator);
            }

            function tailSum(n, accumulator = 0) {
                if (n <= 0) return accumulator;
                return tailSum(n - 1, accumulator + n);
            }

            const factorial5 = tailFactorial(5);
            const sum10 = tailSum(10);

            document.getElementById('tailRecursionResult').innerHTML = `
                <div class="success-message">
                    <strong>üéØ Tail Recursion Test Results</strong><br><br>
                    <strong>Execution Results:</strong><br>
                    üìä tailFactorial(5) = ${factorial5}<br>
                    üìä tailSum(10) = ${sum10}<br><br>
                    <strong>Tail Recursion Benefits:</strong><br>
                    ‚úÖ Stack frame optimization possible<br>
                    ‚úÖ No pending operations after recursive call<br>
                    ‚úÖ Memory efficient (in optimized engines)<br>
                    ‚úÖ Maintains recursive structure elegance<br><br>
                    <strong>Key Difference:</strong><br>
                    Normal: return n * factorial(n-1) ‚ùå (pending multiplication)<br>
                    Tail: return tailFactorial(n-1, n*acc) ‚úÖ (no pending operation)
                </div>
            `;
        }

        function testStackMonitoring() {
            function safeRecursion(n, depth = 0, maxDepth = 10) {
                if (depth > maxDepth) {
                    throw new Error(`Stack overflow prevented! Max depth: ${maxDepth}`);
                }
                if (n <= 1) return 1;
                return n * safeRecursion(n - 1, depth + 1, maxDepth);
            }

            try {
                const result = safeRecursion(8);
                document.getElementById('stackMonitoringResult').innerHTML = `
                    <div class="success-message">
                        <strong>üìä Stack Monitoring Test Results</strong><br><br>
                        <strong>Safe Execution:</strong><br>
                        üìä safeRecursion(8) = ${result}<br>
                        üìä Maximum depth reached: 8 levels<br>
                        üìä Safety limit: 10 levels<br><br>
                        <strong>Monitoring Benefits:</strong><br>
                        ‚úÖ Proactive overflow prevention<br>
                        ‚úÖ Controlled depth limiting<br>
                        ‚úÖ Clear error messages<br>
                        ‚úÖ Graceful failure handling<br><br>
                        <strong>Production Tips:</strong><br>
                        ‚Ä¢ Set reasonable depth limits<br>
                        ‚Ä¢ Log stack depth in critical functions<br>
                        ‚Ä¢ Use try-catch for stack overflow handling<br>
                        ‚Ä¢ Monitor performance metrics
                    </div>
                `;
            } catch (error) {
                document.getElementById('stackMonitoringResult').innerHTML = `
                    <div class="error-message">
                        <strong>üö® Stack Protection Triggered</strong><br><br>
                        <strong>Error:</strong> ${error.message}<br><br>
                        This demonstrates how stack monitoring prevents overflow!
                    </div>
                `;
            }
        }

        // Show prevention method tabs
        function showPreventionMethod(method) {
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));
            
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            document.getElementById(method).classList.add('active');
            event.target.classList.add('active');
        }

        // Initialize demo
        window.onload = function() {
            clearCallStackDemo();
            clearStack();
        };
    </script>
</body>
</html>