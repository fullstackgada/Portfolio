<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ACID Properties Interactive Demo | Fullstackgada</title>
  <meta name="description" content="Explore ACID Properties (Atomicity, Consistency, Isolation, Durability) with an interactive demo! Learn database transaction guarantees with real-world examples.">
  <meta name="author" content="Fullstackgada">
  <meta name="robots" content="index, follow">

  <!-- Canonical -->
  <link rel="canonical" href="https://fullstackgada.netlify.app/database/acid-property">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/image/favicon.ico">

  <!-- Styles -->
  <link rel="stylesheet" href="/interactive-demo.css">
  <link rel="preload" href="/interactive-demo.css" as="style">

  <!-- Open Graph Tags -->
  <meta property="og:title" content="ACID Properties Interactive Demo | Fullstackgada">
  <meta property="og:description" content="Discover ACID Properties with an interactive demo! Learn Atomicity, Consistency, Isolation, and Durability in database transactions.">
  <meta property="og:url" content="https://fullstackgada.netlify.app/database/acid-property">
  <meta property="og:type" content="article">
  <meta property="og:image" content="https://fullstackgada.netlify.app/database/images/acid-property.webp">

  <!-- Twitter Card Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ACID Properties Interactive Demo | Fullstackgada">
  <meta name="twitter:description" content="Learn ACID Properties (Atomicity, Consistency, Isolation, Durability) with an interactive demo and real-world examples.">
  <meta name="twitter:image" content="https://fullstackgada.netlify.app/database/images/acid-property.webp">

  <!-- Article Schema Markup -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "ACID Properties Interactive Demo",
    "description": "Explore ACID Properties (Atomicity, Consistency, Isolation, Durability) with an interactive demo, covering database transaction guarantees and real-world examples.",
    "author": {
      "@type": "Person",
      "name": "Fullstackgada"
    },
    "url": "https://fullstackgada.netlify.app/database/acid-property",
    "datePublished": "2025-09-10",
    "dateModified": "2025-09-08",
    "publisher": {
      "@type": "Organization",
      "name": "Fullstackgada",
      "logo": {
        "@type": "ImageObject",
        "url": "https://fullstackgada.netlify.app/image/favicon.ico"
      }
    }
  }
  </script>

  <!-- FAQ Schema Markup -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What are ACID Properties in databases?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "ACID Properties stand for Atomicity, Consistency, Isolation, and Durability. They define the key guarantees of database transactions to ensure data integrity and reliability."
        }
      },
      {
        "@type": "Question",
        "name": "Why are ACID Properties important?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "ACID Properties are important because they ensure database transactions are reliable, prevent data corruption, and maintain integrity even in case of system crashes or failures."
        }
      },
      {
        "@type": "Question",
        "name": "Can you give a real-world example of ACID Properties?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "A banking transaction is a classic example: transferring money from one account to another must be atomic (either complete or fail), consistent (balances remain valid), isolated (no other transaction interferes), and durable (changes persist even after a crash)."
        }
      }
    ]
  }
  </script>
</head>

<body>
    <div class="container">
        <!-- Header Section -->
        <div class="header-interactive" style="position:relative;">
            <h1>ACID Properties Interactive Demo</h1>
            <p>Master database transactions with Fullstackgada! üß™</p>
            <div class="explore-diagrams-btn-wrapper">
                <a href="/interactive.html" class="explore-diagrams-btn">
                    <img src="/image/plus-circle.svg" alt="Explore more diagrams"> More Diagrams
                </a>
            </div>
            <div class="follow-btn-wrapper">
                <a href="https://www.instagram.com/fullstackgada" target="_blank" class="follow-btn">
                    <img src="/image/instagram.svg" alt="Instagram icon"> Follow for More
                </a>
            </div>
        </div>

        <!-- Demo Grid -->
        <div class="demo-grid">
            <!-- ACID Overview -->
            <div class="demo-section">
                <h2 class="demo-title">üß™ ACID Properties Overview</h2>
                <div class="explanation">
                    <strong>ACID:</strong> Four guarantees for database transactions - Atomicity, Consistency, Isolation, Durability
                </div>

                <!-- ACID Memory Aid -->
                <div class="saree-analogy">
                    <h4>üß™ ACID = Transaction Chemistry</h4>
                    <div class="saree-step">
                        <div class="saree-emoji">‚öõÔ∏è</div>
                        <div><strong>A</strong>tomicity: All or nothing (Complete transaction or none)</div>
                    </div>
                    <div class="saree-step">
                        <div class="saree-emoji">üéØ</div>
                        <div><strong>C</strong>onsistency: Data always in a valid state (e.g., $1000 + $200 = $1200)</div>
                    </div>
                    <div class="saree-step">
                        <div class="saree-emoji">üîí</div>
                        <div><strong>I</strong>solation: Transactions don‚Äôt interfere with each other</div>
                    </div>
                    <div class="saree-step">
                        <div class="saree-emoji">üíæ</div>
                        <div><strong>D</strong>urability: Committed changes are permanent</div>
                    </div>
                </div>

                <!-- ACID Property Selector -->
                <div class="demo-controls">
                    <button class="demo-btn first-btn" onclick="demonstrateProperty('atomicity')" role="button" aria-label="Demonstrate Atomicity">
                        ‚öõÔ∏è Atomicity Demo
                    </button>
                    <button class="demo-btn" onclick="demonstrateProperty('consistency')" role="button" aria-label="Demonstrate Consistency">
                        üéØ Consistency Demo
                    </button>
                    <button class="demo-btn" onclick="demonstrateProperty('isolation')" role="button" aria-label="Demonstrate Isolation">
                        üîí Isolation Demo
                    </button>
                    <button class="demo-btn" onclick="demonstrateProperty('durability')" role="button" aria-label="Demonstrate Durability">
                        üíæ Durability Demo
                    </button>
                </div>

                <!-- Demo Results -->
                <div class="demo-area" id="acidResults">
                    <div class="event-message one-message">
                        Click the buttons above to explore each ACID property!
                    </div>
                </div>
            </div>

            <!-- Live Transaction Simulator -->
            <div class="demo-section">
                <h2 class="demo-title">üí≥ Community Account Transaction</h2>
                <div class="explanation one-explanation">
                    <strong>Live Demo:</strong> Simulate transactions in a community account to see ACID properties in action!
                </div>

                <!-- Account Status Display -->
                <div class="demo-area" id="accountStatus">
                    <div class="event-message one-message">
                        <strong>üè¶ Community Account</strong><br>
                        Balance: $<span id="currentBalance">10000</span><br>
                        Manager: <span id="currentSecretary">Bhide</span><br>
                        Status: <span id="accountStatus">Ready</span>
                    </div>
                </div>

                <!-- Transaction Controls -->
                <div class="demo-controls">
                    <button class="demo-btn first-btn" onclick="performTransaction('maintenance')" role="button" aria-label="Perform Maintenance Collection">
                        üè† Maintenance Collection ($500)
                    </button>
                    <button class="demo-btn" onclick="performTransaction('repair')" role="button" aria-label="Perform Society Repair">
                        üîß Community Repair ($800)
                    </button>
                    <button class="demo-btn" onclick="performTransaction('festival')" role="button" aria-label="Perform Festival Fund">
                        üéâ Festival Fund ($1200)
                    </button>
                    <button class="demo-btn clear-btn" onclick="resetAccount()" role="button" aria-label="Reset Account">
                        üîÑ Reset Account
                    </button>
                </div>

                <!-- Transaction Log -->
                <div class="server-simulation">
                    <h4>Transaction Log (ACID Tracking):</h4>
                    <div class="server-log" id="transactionLog">
                        Ready to track ACID properties...
                    </div>
                </div>
            </div>
        </div>

        <!-- Concurrent Transaction Demo -->
        <div class="demo-section" style="grid-column: 1 / -1;">
            <h2 class="demo-title">üîÑ Isolation Demo: Concurrent Transactions</h2>
            <div class="explanation">
                <strong>Scenario:</strong> Two users attempt to withdraw from the community fund simultaneously!
            </div>

            <div class="demo-grid">
                <div class="demo-card">
                    <h3>üë® User 1 Transaction</h3>
                    <div class="form-group">
                        <label for="jethalalAmount">Withdraw Amount:</label>
                        <input type="number" id="jethalalAmount" value="3000" min="100" max="5000" style="width: 100px;" aria-label="User 1 withdrawal amount">
                    </div>
                    <button class="demo-btn first-btn" onclick="startConcurrentTransaction('jethalal')" id="jethalalBtn" role="button" aria-label="Start User 1 Withdrawal">
                        üí∞ Start User 1 Withdrawal
                    </button>
                    <div id="jethalalStatus" class="result-panel" style="margin-top: 1rem;">
                        <div class="result-content">Ready to start transaction...</div>
                    </div>
                </div>

                <div class="demo-card">
                    <h3>üë®‚Äçü¶≤ User 2 Transaction</h3>
                    <div class="form-group">
                        <label for="iyerAmount">Withdraw Amount:</label>
                        <input type="number" id="iyerAmount" value="2500" min="100" max="5000" style="width: 100px;" aria-label="User 2 withdrawal amount">
                    </div>
                    <button class="demo-btn" onclick="startConcurrentTransaction('iyer')" id="iyerBtn" role="button" aria-label="Start User 2 Withdrawal">
                        üí∞ Start User 2 Withdrawal
                    </button>
                    <div id="iyerStatus" class="result-panel" style="margin-top: 1rem;">
                        <div class="result-content">Ready to start transaction...</div>
                    </div>
                </div>
            </div>

            <div class="demo-controls" style="margin-top: 1rem;">
                <button class="demo-btn first-btn" onclick="simulateConcurrentWithoutLocking()" role="button" aria-label="Simulate Without Locking">
                    ‚ö†Ô∏è Without Locking (Problem!)
                </button>
                <button class="demo-btn" onclick="simulateConcurrentWithLocking()" role="button" aria-label="Simulate With Locking">
                    üîí With Proper Locking (ACID)
                </button>
                <button class="demo-btn clear-btn" onclick="resetConcurrentDemo()" role="button" aria-label="Clear Results">
                    üóëÔ∏è Clear Results
                </button>
            </div>

            <div class="demo-area" id="concurrentResults">
                <div class="event-message">
                    Try concurrent transactions to see Isolation in action!
                </div>
            </div>
        </div>

        <!-- ACID Violation Examples -->
        <div class="demo-section" style="grid-column: 1 / -1;">
            <h2 class="demo-title">‚ö†Ô∏è What Happens When ACID is Violated?</h2>
            <div class="tabs">
                <button class="tab active" onclick="showViolation('atomicity-violation')" role="button" aria-label="Show Atomicity Violation">‚öõÔ∏è Atomicity Violation</button>
                <button class="tab" onclick="showViolation('consistency-violation')" role="button" aria-label="Show Consistency Violation">üéØ Consistency Violation</button>
                <button class="tab" onclick="showViolation('isolation-violation')" role="button" aria-label="Show Isolation Violation">üîí Isolation Violation</button>
                <button class="tab" onclick="showViolation('durability-violation')" role="button" aria-label="Show Durability Violation">üíæ Durability Violation</button>
            </div>

            <!-- Atomicity Violation -->
            <div id="atomicity-violation" class="tab-content active">
                <div class="code-container">
                    <div class="code-block">
                        <div class="code-line comment">-- ‚ùå Atomicity Violation Example</div>
                        <div class="code-line var-declaration">BEGIN TRANSACTION</div>
                        <div class="code-line var-usage">  UPDATE accounts SET balance = balance - 1000 WHERE account_id = 'user1';</div>
                        <div class="code-line error">  -- System crash occurs! üí•</div>
                        <div class="code-line var-usage">  UPDATE accounts SET balance = balance + 1000 WHERE account_id = 'user2';</div>
                        <div class="code-line var-declaration">COMMIT;</div>
                        <div class="code-line"></div>
                        <div class="code-line comment">-- Result: User1 lost $1000, User2 didn't receive it!</div>
                        <div class="code-line error">-- System lost money üò±</div>
                    </div>
                    <div class="code-block">
                        <div class="code-line comment">-- ‚úÖ Proper Atomicity with Rollback</div>
                        <div class="code-line var-declaration">BEGIN TRANSACTION</div>
                        <div class="code-line var-usage">  UPDATE accounts SET balance = balance - 1000 WHERE account_id = 'user1';</div>
                        <div class="code-line error">  -- System detects failure</div>
                        <div class="code-line var-assignment">  ROLLBACK; -- Revert all changes</div>
                        <div class="code-line"></div>
                        <div class="code-line comment">-- Result: Both accounts unchanged, data safe!</div>
                        <div class="code-line var-usage">-- Either full success or full failure</div>
                    </div>
                </div>
                <button class="demo-btn first-btn" onclick="simulateAtomicityViolation()" role="button" aria-label="Simulate Atomicity Issue">‚öõÔ∏è Simulate Atomicity Issue</button>
                <div id="atomicityViolationResult" class="result-panel" style="margin-top: 1rem;">
                    <div class="result-content">Click to see atomicity violation...</div>
                </div>
            </div>

            <!-- Consistency Violation -->
            <div id="consistency-violation" class="tab-content">
                <div class="code-container">
                    <div class="code-block">
                        <div class="code-line comment">-- ‚ùå Consistency Violation Example</div>
                        <div class="code-line var-declaration">-- Rule: Account balance cannot be below $500</div>
                        <div class="code-line var-usage">UPDATE accounts SET balance = 200 WHERE account_id = 'user1';</div>
                        <div class="code-line error">-- Business rule violated! Balance < $500</div>
                        <div class="code-line"></div>
                        <div class="code-line comment">-- Rule: Total money in system must remain constant</div>
                        <div class="code-line var-usage">UPDATE accounts SET balance = balance - 1000 WHERE account_id = 'user1';</div>
                        <div class="code-line error">-- No corresponding addition! Money lost!</div>
                    </div>
                    <div class="code-block">
                        <div class="code-line comment">-- ‚úÖ Proper Consistency Checks</div>
                        <div class="code-line var-declaration">BEGIN TRANSACTION</div>
                        <div class="code-line var-usage">  -- Check constraints before update</div>
                        <div class="code-line var-usage">  IF (balance - 1000) >= 500 THEN</div>
                        <div class="code-line var-usage">    UPDATE accounts SET balance = balance - 1000 WHERE account_id = 'user1';</div>
                        <div class="code-line var-usage">    UPDATE accounts SET balance = balance + 1000 WHERE account_id = 'user2';</div>
                        <div class="code-line var-usage">    COMMIT;</div>
                        <div class="code-line var-usage">  ELSE</div>
                        <div class="code-line var-assignment">    ROLLBACK; -- Maintain consistency</div>
                        <div class="code-line var-usage">  END IF;</div>
                    </div>
                </div>
                <button class="demo-btn first-btn" onclick="simulateConsistencyViolation()" role="button" aria-label="Simulate Consistency Issue">üéØ Simulate Consistency Issue</button>
                <div id="consistencyViolationResult" class="result-panel" style="margin-top: 1rem;">
                    <div class="result-content">Click to see consistency violation...</div>
                </div>
            </div>

            <!-- Isolation Violation -->
            <div id="isolation-violation" class="tab-content">
                <div class="code-container">
                    <div class="code-block">
                        <div class="code-line comment">-- ‚ùå Isolation Violation (Dirty Read)</div>
                        <div class="code-line var-declaration">-- Transaction 1 (User1)</div>
                        <div class="code-line var-usage">BEGIN TRANSACTION</div>
                        <div class="code-line var-usage">  UPDATE accounts SET balance = 15000 WHERE account_id = 'community';</div>
                        <div class="code-line comment">  -- Transaction 2 (User2) reads uncommitted data</div>
                        <div class="code-line error">  -- User2 sees balance = 15000 (dirty read!)</div>
                        <div class="code-line var-assignment">ROLLBACK; -- Transaction 1 fails</div>
                        <div class="code-line"></div>
                        <div class="code-line comment">-- Problem: User2 made decisions based on wrong data!</div>
                    </div>
                    <div class="code-block">
                        <div class="code-line comment">-- ‚úÖ Proper Isolation with Locking</div>
                        <div class="code-line var-declaration">-- Transaction 1 (User1)</div>
                        <div class="code-line var-usage">BEGIN TRANSACTION</div>
                        <div class="code-line var-usage">  SELECT balance FROM accounts WHERE account_id = 'community' FOR UPDATE;</div>
                        <div class="code-line var-usage">  -- Row locked, User2 must wait</div>
                        <div class="code-line var-usage">  UPDATE accounts SET balance = 15000 WHERE account_id = 'community';</div>
                        <div class="code-line var-declaration">COMMIT; -- Lock released</div>
                        <div class="code-line"></div>
                        <div class="code-line comment">-- User2 can now safely read committed data</div>
                    </div>
                </div>
                <button class="demo-btn first-btn" onclick="simulateIsolationViolation()" role="button" aria-label="Simulate Isolation Issue">üîí Simulate Isolation Issue</button>
                <div id="isolationViolationResult" class="result-panel" style="margin-top: 1rem;">
                    <div class="result-content">Click to see isolation violation...</div>
                </div>
            </div>

            <!-- Durability Violation -->
            <div id="durability-violation" class="tab-content">
                <div class="code-container">
                    <div class="code-block">
                        <div class="code-line comment">-- ‚ùå Durability Violation Example</div>
                        <div class="code-line var-declaration">BEGIN TRANSACTION</div>
                        <div class="code-line var-usage">  UPDATE accounts SET balance = balance + 5000 WHERE account_id = 'community';</div>
                        <div class="code-line var-usage">  COMMIT; -- Transaction successfully committed</div>
                        <div class="code-line"></div>
                        <div class="code-line error">-- Power failure occurs! üí°‚ö°</div>
                        <div class="code-line error">-- Data was only in memory, not written to disk</div>
                        <div class="code-line error">-- After restart: Changes lost! üò±</div>
                    </div>
                    <div class="code-block">
                        <div class="code-line comment">-- ‚úÖ Proper Durability with Write-Ahead Logging</div>
                        <div class="code-line var-declaration">BEGIN TRANSACTION</div>
                        <div class="code-line var-usage">  -- Write to log file first (WAL)</div>
                        <div class="code-line var-usage">  LOG: "UPDATE accounts SET balance = balance + 5000 WHERE account_id = 'community'"</div>
                        <div class="code-line var-usage">  -- Flush log to disk</div>
                        <div class="code-line var-usage">  UPDATE accounts SET balance = balance + 5000 WHERE account_id = 'community';</div>
                        <div class="code-line var-declaration">COMMIT; -- Guaranteed permanent</div>
                        <div class="code-line"></div>
                        <div class="code-line comment">-- Even after a crash, changes can be recovered from log</div>
                    </div>
                </div>
                <button class="demo-btn first-btn" onclick="simulateDurabilityViolation()" role="button" aria-label="Simulate Durability Issue">üíæ Simulate Durability Issue</button>
                <div id="durabilityViolationResult" class="result-panel" style="margin-top: 1rem;">
                    <div class="result-content">Click to see durability violation...</div>
                </div>
            </div>
        </div>

        <!-- Implementation Techniques -->
        <div class="comparison-section">
            <h3>üõ†Ô∏è How Databases Implement ACID</h3>
            <table class="comparison-table responsive-table">
                <thead>
                    <tr>
                        <th>Property</th>
                        <th>Implementation Technique</th>
                        <th>Database Feature</th>
                        <th>Performance Impact</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>‚öõÔ∏è Atomicity</strong></td>
                        <td>Transaction logs, Rollback mechanisms</td>
                        <td>BEGIN/COMMIT/ROLLBACK statements</td>
                        <td>Low - minimal overhead</td>
                    </tr>
                    <tr>
                        <td><strong>üéØ Consistency</strong></td>
                        <td>Constraints, Triggers, Validation rules</td>
                        <td>CHECK constraints, Foreign keys, Triggers</td>
                        <td>Medium - validation overhead</td>
                    </tr>
                    <tr>
                        <td><strong>üîí Isolation</strong></td>
                        <td>Locking, MVCC (Multi-Version Concurrency Control)</td>
                        <td>Row/Table locks, Isolation levels</td>
                        <td>High - may reduce concurrency</td>
                    </tr>
                    <tr>
                        <td><strong>üíæ Durability</strong></td>
                        <td>Write-Ahead Logging (WAL), Disk syncing</td>
                        <td>Transaction logs, Checkpoint mechanisms</td>
                        <td>Medium - disk I/O overhead</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Real-world Scenarios -->
        <div class="comparison-section">
            <h3>üåç Real-World ACID Scenarios</h3>
            <table class="comparison-table responsive-table">
                <thead>
                    <tr>
                        <th>Scenario</th>
                        <th>ACID Requirement</th>
                        <th>What Could Go Wrong</th>
                        <th>Solution</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>üè¶ ATM Withdrawal</strong></td>
                        <td>All ACID properties required</td>
                        <td>Money deducted but cash not dispensed</td>
                        <td>Atomic transaction with rollback</td>
                    </tr>
                    <tr>
                        <td><strong>üõí E-commerce Purchase</strong></td>
                        <td>Atomicity + Consistency</td>
                        <td>Payment taken but order not created</td>
                        <td>Two-phase commit across systems</td>
                    </tr>
                    <tr>
                        <td><strong>üìä Analytics Updates</strong></td>
                        <td>Consistency + Durability</td>
                        <td>Reports show incorrect numbers</td>
                        <td>Batch updates with validation</td>
                    </tr>
                    <tr>
                        <td><strong>üéÆ Gaming Leaderboard</strong></td>
                        <td>Isolation + Consistency</td>
                        <td>Multiple players claim the same rank</td>
                        <td>Optimistic locking with retry</td>
                    </tr>
                    <tr>
                        <td><strong>üìß Email System</strong></td>
                        <td>Durability + Atomicity</td>
                        <td>Email lost during sending</td>
                        <td>Message queuing with persistence</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        let currentBalance = 10000;
        let isTransactionInProgress = false;

        // ACID Property demonstrations
        function demonstrateProperty(property) {
            const result = document.getElementById('acidResults');
            const demonstrations = {
                atomicity: {
                    title: "‚öõÔ∏è Atomicity - All or Nothing",
                    content: `
                        <strong>Scenario:</strong> User1 tries to become account manager<br><br>
                        <strong>Required Steps:</strong><br>
                        1Ô∏è‚É£ Remove current manager (Bhide)<br>
                        2Ô∏è‚É£ Add User1 as manager<br>
                        3Ô∏è‚É£ Update permissions<br>
                        4Ô∏è‚É£ Update member records<br><br>
                        <strong>Atomicity Guarantee:</strong><br>
                        ‚úÖ All steps succeed = User1 becomes manager<br>
                        ‚ùå Any step fails = Bhide remains manager<br>
                        üö´ No partial manager state!<br><br>
                        <strong>Real Database:</strong> BEGIN TRANSACTION ... COMMIT/ROLLBACK
                    `,
                    type: "success"
                },
                consistency: {
                    title: "üéØ Consistency - Data Validity",
                    content: `
                        <strong>Scenario:</strong> Community account maintenance collection<br><br>
                        <strong>Initial State:</strong> Balance = $10,000<br>
                        <strong>Transaction:</strong> Add $500 maintenance from User1<br>
                        <strong>Expected Final State:</strong> Balance = $10,500<br><br>
                        <strong>Business Rules Checked:</strong><br>
                        ‚úÖ Balance cannot be negative<br>
                        ‚úÖ All money must be accounted for<br>
                        ‚úÖ Large amounts require manager approval<br><br>
                        <strong>Consistency Guarantee:</strong><br>
                        Database remains in a valid state<br>
                        Any rule violation = ROLLBACK
                    `,
                    type: "success"
                },
                isolation: {
                    title: "üîí Isolation - No Interference",
                    content: `
                        <strong>Scenario:</strong> User1 and User2 attempt simultaneous withdrawals<br><br>
                        <strong>Without Isolation:</strong><br>
                        ‚Ä¢ User1 sees: $10,000<br>
                        ‚Ä¢ User2 sees: $10,000<br>
                        ‚Ä¢ Both withdraw $8,000<br>
                        ‚Ä¢ Result: Balance = -$6,000 üò±<br><br>
                        <strong>With Isolation:</strong><br>
                        ‚Ä¢ User1 gets lock ‚Üí Balance: $10,000 ‚Üí $2,000<br>
                        ‚Ä¢ User2 waits ‚Üí Sees updated balance: $2,000<br>
                        ‚Ä¢ User2's withdrawal fails (insufficient funds)<br>
                        ‚Ä¢ Result: Balance = $2,000 ‚úÖ
                    `,
                    type: "success"
                },
                durability: {
                    title: "üíæ Durability - Permanent Storage",
                    content: `
                        <strong>Scenario:</strong> Festival fund collection transaction<br><br>
                        <strong>Transaction Complete:</strong><br>
                        ‚Ä¢ Balance updated: $10,000 ‚Üí $12,000<br>
                        ‚Ä¢ COMMIT successful<br>
                        ‚Ä¢ "Transaction complete" message shown<br><br>
                        <strong>Sudden Power Failure! ‚ö°</strong><br><br>
                        <strong>After System Restart:</strong><br>
                        ‚úÖ Balance still shows: $12,000<br>
                        ‚úÖ Transaction logged in permanent storage<br>
                        ‚úÖ No data loss!<br><br>
                        <strong>Durability Guarantee:</strong><br>
                        Committed data is always safe!
                    `,
                    type: "success"
                }
            };
            const demo = demonstrations[property];
            result.innerHTML = `
                <div class="${demo.type}-message">
                    <strong>${demo.title}</strong><br><br>
                    ${demo.content}
                    <div class="message-time">${new Date().toLocaleTimeString()}</div>
                </div>
            `;
        }

        // Community account operations
        function updateAccountDisplay() {
            document.getElementById('currentBalance').textContent = currentBalance;
            document.getElementById('accountStatus').textContent = isTransactionInProgress ? 'Transaction in Progress' : 'Ready';
        }

        function performTransaction(type) {
            if (isTransactionInProgress) {
                alert('Another transaction is in progress. Please wait!');
                return;
            }
            isTransactionInProgress = true;
            updateAccountDisplay();
            const transactions = {
                maintenance: { amount: 500, description: 'Maintenance Collection', type: 'credit' },
                repair: { amount: 800, description: 'Community Repair', type: 'debit' },
                festival: { amount: 1200, description: 'Festival Fund Collection', type: 'credit' }
            };
            const transaction = transactions[type];
            const oldBalance = currentBalance;
            setTimeout(() => {
                if (transaction.type === 'credit') {
                    currentBalance += transaction.amount;
                } else {
                    if (currentBalance >= transaction.amount) {
                        currentBalance -= transaction.amount;
                    } else {
                        isTransactionInProgress = false;
                        updateAccountDisplay();
                        document.getElementById('transactionLog').innerHTML = `
                            <strong style="color: #f56565;">‚ùå Transaction Failed!</strong><br>
                            <strong>Type:</strong> ${transaction.description}<br>
                            <strong>Amount:</strong> $${transaction.amount}<br>
                            <strong>Reason:</strong> Insufficient funds<br>
                            <strong>ACID Properties:</strong><br>
                            ‚öõÔ∏è Atomicity: Full rollback<br>
                            üéØ Consistency: Balance rules maintained<br>
                            üîí Isolation: No interference<br>
                            üíæ Durability: Failed state not saved
                        `;
                        return;
                    }
                }
                isTransactionInProgress = false;
                updateAccountDisplay();
                document.getElementById('transactionLog').innerHTML = `
                    <strong style="color: #4caf50;">‚úÖ Transaction Successful!</strong><br>
                    <strong>Type:</strong> ${transaction.description}<br>
                    <strong>Amount:</strong> $${transaction.amount} (${transaction.type})<br>
                    <strong>Balance:</strong> $${oldBalance} ‚Üí $${currentBalance}<br>
                    <strong>ACID Properties Ensured:</strong><br>
                    ‚öõÔ∏è Atomicity: Full success<br>
                    üéØ Consistency: Valid state maintained<br>
                    üîí Isolation: Exclusive access<br>
                    üíæ Durability: Changes permanently saved
                `;
            }, 1500);
        }

        function resetAccount() {
            currentBalance = 10000;
            isTransactionInProgress = false;
            updateAccountDisplay();
            document.getElementById('transactionLog').innerHTML = 'Ready to track ACID properties...';
        }

        // Concurrent transaction simulation
        function startConcurrentTransaction(user) {
            const amount = parseInt(document.getElementById(user + 'Amount').value);
            const statusDiv = document.getElementById(user + 'Status');
            statusDiv.innerHTML = `
                <div class="result-content">
                    <strong>üöÄ ${user === 'jethalal' ? 'User1' : 'User2'} Transaction Started</strong><br>
                    Withdrawal attempt: $${amount}<br>
                    Status: Acquiring lock...
                </div>
            `;
            document.getElementById(user + 'Btn').disabled = true;
            setTimeout(() => {
                document.getElementById(user + 'Btn').disabled = false;
                statusDiv.innerHTML = `
                    <div class="result-content">
                        Transaction ready. Click simulation buttons below to see different scenarios.
                    </div>
                `;
            }, 2000);
        }

        function simulateConcurrentWithoutLocking() {
            const jethalalAmount = parseInt(document.getElementById('jethalalAmount').value);
            const iyerAmount = parseInt(document.getElementById('iyerAmount').value);
            const initialBalance = currentBalance;
            document.getElementById('concurrentResults').innerHTML = `
                <div class="error-message">
                    <strong>‚ö†Ô∏è Without Locking - Race Condition!</strong><br><br>
                    <strong>Initial Balance:</strong> $${initialBalance}<br><br>
                    <strong>Sequence of Events:</strong><br>
                    1Ô∏è‚É£ User1 reads balance: $${initialBalance}<br>
                    2Ô∏è‚É£ User2 reads balance: $${initialBalance} (same!)<br>
                    3Ô∏è‚É£ User1 calculates: $${initialBalance} - $${jethalalAmount} = $${initialBalance - jethalalAmount}<br>
                    4Ô∏è‚É£ User2 calculates: $${initialBalance} - $${iyerAmount} = $${initialBalance - iyerAmount}<br>
                    5Ô∏è‚É£ Both write their results!<br><br>
                    <strong>Final Balance:</strong> $${initialBalance - Math.max(jethalalAmount, iyerAmount)} (Incorrect!)<br>
                    <strong>Expected Balance:</strong> $${initialBalance - jethalalAmount - iyerAmount}<br>
                    <strong>Money Lost:</strong> $${Math.min(jethalalAmount, iyerAmount)}<br><br>
                    <strong>ACID Violation:</strong><br>
                    ‚ùå Isolation: Transactions interfered<br>
                    ‚ùå Consistency: Data corrupted<br>
                    ‚ùå Atomicity: Partial results mixed
                </div>
            `;
        }

        function simulateConcurrentWithLocking() {
            const jethalalAmount = parseInt(document.getElementById('jethalalAmount').value);
            const iyerAmount = parseInt(document.getElementById('iyerAmount').value);
            const initialBalance = currentBalance;
            let newBalance = initialBalance;
            let jethalalResult = "";
            let iyerResult = "";
            if (newBalance >= jethalalAmount) {
                newBalance -= jethalalAmount;
                jethalalResult = `‚úÖ Success: $${jethalalAmount} withdrawn`;
            } else {
                jethalalResult = `‚ùå Fail: Insufficient funds`;
            }
            if (newBalance >= iyerAmount) {
                newBalance -= iyerAmount;
                iyerResult = `‚úÖ Success: $${iyerAmount} withdrawn`;
            } else {
                iyerResult = `‚ùå Fail: Insufficient funds`;
            }
            currentBalance = newBalance;
            updateAccountDisplay();
            document.getElementById('concurrentResults').innerHTML = `
                <div class="success-message">
                    <strong>üîí With Proper Locking - ACID Maintained!</strong><br><br>
                    <strong>Initial Balance:</strong> $${initialBalance}<br><br>
                    <strong>Sequence of Events:</strong><br>
                    1Ô∏è‚É£ User1 gets lock<br>
                    2Ô∏è‚É£ User1 reads and updates: $${initialBalance} ‚Üí $${initialBalance >= jethalalAmount ? initialBalance - jethalalAmount : initialBalance}<br>
                    3Ô∏è‚É£ User1 releases lock<br>
                    4Ô∏è‚É£ User2 gets lock<br>
                    5Ô∏è‚É£ User2 reads and processes updated balance<br>
                    6Ô∏è‚É£ User2 releases lock<br><br>
                    <strong>Results:</strong><br>
                    üë® User1: ${jethalalResult}<br>
                    üë®‚Äçü¶≤ User2: ${iyerResult}<br><br>
                    <strong>Final Balance:</strong> $${newBalance} ‚úÖ<br><br>
                    <strong>ACID Properties Maintained:</strong><br>
                    ‚úÖ Isolation: No interference<br>
                    ‚úÖ Consistency: Data integrity preserved<br>
                    ‚úÖ Atomicity: Each transaction completed fully<br>
                    ‚úÖ Durability: Changes permanently saved
                </div>
            `;
        }

        function resetConcurrentDemo() {
            document.getElementById('concurrentResults').innerHTML = `
                <div class="event-message">
                    Try concurrent transactions to see Isolation in action!
                </div>
            `;
            resetAccount();
        }

        // ACID violation simulations
        function showViolation(violation) {
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.getElementById(violation).classList.add('active');
            event.target.classList.add('active');
        }

        function simulateAtomicityViolation() {
            document.getElementById('atomicityViolationResult').innerHTML = `
                <div class="error-message">
                    <strong>‚öõÔ∏è Atomicity Violation Simulation</strong><br><br>
                    <strong>Scenario:</strong> Money transfer between User1 and User2<br><br>
                    <div style="background: #2d3748; color: #e2e8f0; padding: 1rem; border-radius: 8px; margin: 0.5rem 0; font-family: monospace;">
Step 1: User1.balance = 5000 - 1000 = 4000 ‚úÖ<br>
Step 2: System crash! üí•<br>
Step 3: User2.balance = 3000 + 1000 ‚ùå (Never executed)<br>
                    </div>
                    <strong>Result:</strong><br>
                    ‚Ä¢ User1 lost $1000<br>
                    ‚Ä¢ User2 didn't receive $1000<br>
                    ‚Ä¢ System lost money! üò±<br><br>
                    <strong>Solution:</strong> Transaction log + Rollback mechanism
                </div>
            `;
        }

        function simulateConsistencyViolation() {
            document.getElementById('consistencyViolationResult').innerHTML = `
                <div class="error-message">
                    <strong>üéØ Consistency Violation Simulation</strong><br><br>
                    <strong>Scenario:</strong> Community account withdrawal violates minimum balance rule<br><br>
                    <div style="background: #2d3748; color: #e2e8f0; padding: 1rem; border-radius: 8px; margin: 0.5rem 0; font-family: monospace;">
Business Rule: Minimum balance = $500<br>
Current Balance: $800<br>
Withdrawal Request: $600<br>
New Balance: $800 - $600 = $200 ‚ùå<br>
Rule Violation: $200 < $500
                    </div>
                    <strong>Without Consistency Check:</strong><br>
                    ‚Ä¢ Account went below minimum balance<br>
                    ‚Ä¢ Business rule violated<br>
                    ‚Ä¢ Invalid system state<br><br>
                    <strong>ACID Solution:</strong> Transaction rejected, rolled back
                </div>
            `;
        }

        function simulateIsolationViolation() {
            document.getElementById('isolationViolationResult').innerHTML = `
                <div class="error-message">
                    <strong>üîí Isolation Violation Simulation</strong><br><br>
                    <strong>Scenario:</strong> Dirty read problem between User1 and User2<br><br>
                    <div style="background: #2d3748; color: #e2e8f0; padding: 1rem; border-radius: 8px; margin: 0.5rem 0; font-family: monospace;">
T1 (User1): BEGIN TRANSACTION<br>
T1: UPDATE balance = 15000 (uncommitted)<br>
T2 (User2): SELECT balance ‚Üí sees 15000 üíÄ<br>
T2: Makes decision based on wrong data<br>
T1: ROLLBACK (transaction fails)<br>
T2: Now working with outdated information!
                    </div>
                    <strong>Result:</strong><br>
                    ‚Ä¢ User2 saw uncommitted data (dirty read)<br>
                    ‚Ä¢ Made incorrect business decisions<br>
                    ‚Ä¢ Data inconsistency in transactions<br><br>
                    <strong>Solution:</strong> Row-level locking, isolation levels
                </div>
            `;
        }

        function simulateDurabilityViolation() {
            document.getElementById('durabilityViolationResult').innerHTML = `
                <div class="error-message">
                    <strong>üíæ Durability Violation Simulation</strong><br><br>
                    <strong>Scenario:</strong> Power failure after successful transaction<br><br>
                    <div style="background: #2d3748; color: #e2e8f0; padding: 1rem; border-radius: 8px; margin: 0.5rem 0; font-family: monospace;">
Transaction: Add $5000 to community fund<br>
UPDATE balance = 10000 + 5000 = 15000<br>
COMMIT successful ‚úÖ<br>
User sees: "Transaction complete"<br>
<span style="color: #ff6f61;">üí° POWER FAILURE! ‚ö°</span><br>
System restart...<br>
Balance shows: $10000 (old value) üò±
                    </div>
                    <strong>Problem:</strong><br>
                    ‚Ä¢ Data was only in memory<br>
                    ‚Ä¢ Not written to permanent storage<br>
                    ‚Ä¢ Committed transaction lost!<br><br>
                    <strong>Solution:</strong> Write-Ahead Logging (WAL), Disk syncing
                </div>
            `;
        }

        // Initialize demo
        window.onload = function() {
            updateAccountDisplay();
        };
    </script>
</body>
</html>