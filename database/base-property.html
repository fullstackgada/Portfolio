<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BASE Properties in NoSQL Databases - Interactive Demo | Fullstackgada</title>
  <meta name="description" content="Discover BASE properties (Basically Available, Soft State, Eventual Consistency) in NoSQL databases with an interactive demo. Complete guide to distributed systems.">
  <meta name="author" content="Fullstackgada">
  <meta name="robots" content="index, follow">

  <!-- Canonical -->
  <link rel="canonical" href="https://fullstackgada.netlify.app/database/base-property">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/image/favicon.ico">

  <!-- Styles -->
  <link rel="stylesheet" href="/interactive-demo.css">
  <link rel="preload" href="/interactive-demo.css" as="style">

  <!-- Open Graph Tags -->
  <meta property="og:title" content="BASE Properties in NoSQL Databases - Interactive Demo | Fullstackgada">
  <meta property="og:description" content="Explore BASE properties in NoSQL databases with an interactive demo. Learn Basically Available, Soft State, and Eventual Consistency principles.">
  <meta property="og:url" content="https://fullstackgada.netlify.app/database/base-property">
  <meta property="og:type" content="article">
  <meta property="og:image" content="https://fullstackgada.netlify.app/database/images/base-property.webp">

  <!-- Twitter Card Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="BASE Properties in NoSQL Databases - Interactive Demo | Fullstackgada">
  <meta name="twitter:description" content="Learn BASE properties with an interactive demo, covering Basically Available, Soft State, and Eventual Consistency in NoSQL databases.">
  <meta name="twitter:image" content="https://fullstackgada.netlify.app/database/images/base-property.webp">

  <!-- Article Schema Markup -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "BASE Properties in NoSQL Databases - Interactive Demo",
    "description": "Discover BASE properties (Basically Available, Soft State, Eventual Consistency) in NoSQL databases with an interactive demo and real-world examples.",
    "author": {
      "@type": "Person",
      "name": "Fullstackgada"
    },
    "url": "https://fullstackgada.netlify.app/database/base-property",
    "datePublished": "2025-09-10",
    "dateModified": "2025-09-10",
    "publisher": {
      "@type": "Organization",
      "name": "Fullstackgada",
      "logo": {
        "@type": "ImageObject",
        "url": "https://fullstackgada.netlify.app/image/favicon.ico"
      }
    }
  }
  </script>

  <!-- FAQ Schema Markup -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What are BASE properties in NoSQL databases?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "BASE properties stand for Basically Available, Soft State, and Eventual Consistency. These principles describe the behavior of distributed NoSQL databases, focusing on availability and scalability rather than strict consistency."
        }
      },
      {
        "@type": "Question",
        "name": "How do BASE properties differ from ACID?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "ACID ensures strict consistency and reliability in traditional relational databases, while BASE sacrifices strong consistency for high availability and partition tolerance, making it more suitable for distributed NoSQL systems."
        }
      },
      {
        "@type": "Question",
        "name": "Which NoSQL databases use BASE properties?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Databases like Cassandra, DynamoDB, Couchbase, and MongoDB rely on BASE principles to achieve scalability and fault tolerance in distributed environments."
        }
      }
    ]
  }
  </script>
</head>

<body>
<div class="container">

    <!-- Header -->
    <div class="header-interactive">
        <h1>BASE Properties in NoSQL Databases</h1>
        <p>Master Basically Available, Soft State, and Eventual Consistency! üìä</p>
     <div class="explore-diagrams-btn-wrapper">
            <a href="/interactive.html" class="explore-diagrams-btn">
                <img src="/image/plus-circle.svg" alt="Instagram icon"> More Diagrams
            </a>
        </div>
       <div class="follow-btn-wrapper">
            <a href="https://www.instagram.com/fullstackgada" target="_blank" class="follow-btn">
    <img src="/image/instagram.svg" alt="Instagram icon"> Follow for More
</a>
        </div>
    </div>

    <!-- Introduction -->
    <div class="demo-section">
        <h2 class="demo-title">üèóÔ∏è What are BASE Properties?</h2>
        <div class="explanation">
            <strong>BASE Properties:</strong> Principles for distributed NoSQL databases prioritizing availability and partition tolerance over immediate consistency.
        </div>

        <div class="saree-analogy">
            <h4>üìä BASE Acronym Breakdown</h4>
            <div class="saree-step">
                <div class="saree-emoji">‚úÖ</div>
                <div><strong>Basically Available:</strong> System responds even during partial failures.</div>
            </div>
            <div class="saree-step">
                <div class="saree-emoji">üîÑ</div>
                <div><strong>Soft State:</strong> Data may change over time without external input.</div>
            </div>
            <div class="saree-step">
                <div class="saree-emoji">‚è∞</div>
                <div><strong>Eventual Consistency:</strong> Nodes eventually reach consistent data.</div>
            </div>
        </div>

        <div class="demo-controls">
            <button class="demo-btn first-btn" onclick="showBasicallyAvailable()" role="button" aria-label="Show Basically Available">‚úÖ Basically Available</button>
            <button class="demo-btn" onclick="showSoftState()" role="button" aria-label="Show Soft State">üîÑ Soft State</button>
            <button class="demo-btn" onclick="showEventualConsistency()" role="button" aria-label="Show Eventual Consistency">‚è∞ Eventual Consistency</button>
            <button class="demo-btn clear-btn" onclick="clearDemo()" role="button" aria-label="Clear Demo">üóëÔ∏è Clear</button>
        </div>

        <div class="demo-area" id="baseResults" role="region" aria-live="polite">
            <div class="event-message one-message">
                Click above buttons to explore BASE properties!
            </div>
        </div>
    </div>

    <!-- Interactive Simulation -->
    <div class="demo-section">
        <h2 class="demo-title">üéÆ Distributed System Simulation</h2>
        <div class="explanation one-explanation">
            <strong>Scenario:</strong> E-commerce system with multiple database nodes handling user data updates.
        </div>
        
        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin: 1rem 0;">
            <!-- Node 1 -->
            <div style="border:2px solid #3498db; padding:1rem; border-radius:8px;">
                <h4>üñ•Ô∏è Node 1 (US East)</h4>
                <div id="node1Status">Status: Ready</div>
                <div id="node1Data" style="margin-top: 0.5rem; font-family: monospace;">User Count: 1000</div>
            </div>
            
            <!-- Node 2 -->
            <div style="border:2px solid #e74c3c; padding:1rem; border-radius:8px;">
                <h4>üñ•Ô∏è Node 2 (Europe)</h4>
                <div id="node2Status">Status: Ready</div>
                <div id="node2Data" style="margin-top: 0.5rem; font-family: monospace;">User Count: 1000</div>
            </div>
            
            <!-- Node 3 -->
            <div style="border:2px solid #27ae60; padding:1rem; border-radius:8px;">
                <h4>üñ•Ô∏è Node 3 (Asia)</h4>
                <div id="node3Status">Status: Ready</div>
                <div id="node3Data" style="margin-top: 0.5rem; font-family: monospace;">User Count: 1000</div>
            </div>
        </div>

        <div style="display:flex; gap:1rem; text-align: center; margin: 1rem 0;">
            <button class="demo-btn first-btn" onclick="simulateUserSignup()" role="button" aria-label="Simulate New User Signup">üë§ New User Signup</button>
            <button class="demo-btn" onclick="simulateNodeFailure()" role="button" aria-label="Simulate Node Failure">‚ö†Ô∏è Simulate Node Failure</button>
            <button class="demo-btn" onclick="resetSimulation()" role="button" aria-label="Reset Simulation">üîÑ Reset Simulation</button>
        </div>

        <div id="simulationLog" style="background: #f8f9fa; padding: 1rem; border-radius: 8px; margin-top: 1rem; font-family: monospace; min-height: 100px;" role="log" aria-live="polite">
            Simulation log will appear here...
        </div>
    </div>

    <!-- BASE vs ACID Comparison -->
    <div class="demo-section" style="grid-column:1/-1;">
        <h2 class="demo-title">‚öñÔ∏è BASE vs ACID Properties Comparison</h2>
        <table class="comparison-table responsive-table">
            <thead>
                <tr>
                    <th>Aspect</th>
                    <th>ACID (Traditional SQL)</th>
                    <th>BASE (NoSQL)</th>
                    <th>Trade-off</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Consistency</strong></td>
                    <td>Immediate, strict consistency</td>
                    <td>Eventual consistency over time</td>
                    <td>Consistency vs Availability</td>
                </tr>
                <tr>
                    <td><strong>Availability</strong></td>
                    <td>May sacrifice availability for consistency</td>
                    <td>High availability prioritized</td>
                    <td>Response time vs Data accuracy</td>
                </tr>
                <tr>
                    <td><strong>Scalability</strong></td>
                    <td>Vertical scaling (more powerful servers)</td>
                    <td>Horizontal scaling (more servers)</td>
                    <td>Cost vs Performance</td>
                </tr>
                <tr>
                    <td><strong>Use Cases</strong></td>
                    <td>Banking, financial transactions</td>
                    <td>Social media, content platforms</td>
                    <td>Accuracy vs Speed</td>
                </tr>
                <tr>
                    <td><strong>Data State</strong></td>
                    <td>Hard state (fixed until changed)</td>
                    <td>Soft state (changes without input)</td>
                    <td>Predictability vs Flexibility</td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Real-world Examples -->
    <div class="demo-section" style="grid-column:1/-1;">
        <h2 class="demo-title">üåç Real-World BASE Implementation Examples</h2>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
            <div class="demo-card">
                <h3>üìò Facebook/Meta</h3>
                <p><strong>Scenario:</strong> User posts and friend updates</p>
                <ul>
                    <li><strong>Basically Available:</strong> Users can post even if some servers are down.</li>
                    <li><strong>Soft State:</strong> Post visibility varies across regions initially.</li>
                    <li><strong>Eventual Consistency:</strong> All friends see posts within minutes.</li>
                </ul>
            </div>
            
            <div class="demo-card">
                <h3>üõí Amazon DynamoDB</h3>
                <p><strong>Scenario:</strong> Product inventory management</p>
                <ul>
                    <li><strong>Basically Available:</strong> Shopping cart works during high traffic.</li>
                    <li><strong>Soft State:</strong> Item availability may differ temporarily.</li>
                    <li><strong>Eventual Consistency:</strong> Inventory syncs across regions.</li>
                </ul>
            </div>
            
            <div class="demo-card">
                <h3>üì± Twitter/X</h3>
                <p><strong>Scenario:</strong> Tweet timeline and follower counts</p>
                <ul>
                    <li><strong>Basically Available:</strong> Tweeting works during maintenance.</li>
                    <li><strong>Soft State:</strong> Follower counts fluctuate briefly.</li>
                    <li><strong>Eventual Consistency:</strong> Tweets appear in all timelines.</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Technical Implementation -->
    <div class="demo-section" style="grid-column:1/-1;">
        <h2 class="demo-title">üíª Technical Implementation of BASE Properties</h2>
        
        <div class="tabs">
            <button class="tab active" onclick="showImplementation('basically-available')" role="button" aria-label="Show Basically Available Implementation">‚úÖ Basically Available</button>
            <button class="tab" onclick="showImplementation('soft-state')" role="button" aria-label="Show Soft State Implementation">üîÑ Soft State</button>
            <button class="tab" onclick="showImplementation('eventual-consistency')" role="button" aria-label="Show Eventual Consistency Implementation">‚è∞ Eventual Consistency</button>
        </div>

        <!-- Basically Available Implementation -->
        <div id="basically-available" class="tab-content active">
            <div class="code-container">
                <div class="code-block">
                    <div class="code-line comment">// Implementing Basically Available in Node.js with MongoDB</div>
                    <div class="code-line var-declaration">const MongoClient = require('mongodb').MongoClient;</div>
                    <div class="code-line var-declaration">const circuit = require('opossum');</div>
                    <div class="code-line"></div>
                    <div class="code-line comment">// Circuit breaker for database connections</div>
                    <div class="code-line var-usage">const dbOptions = {</div>
                    <div class="code-line var-usage">  timeout: 3000, // If DB takes > 3s, use fallback</div>
                    <div class="code-line var-usage">  errorThresholdPercentage: 50,</div>
                    <div class="code-line var-usage">  resetTimeout: 30000</div>
                    <div class="code-line var-usage">};</div>
                    <div class="code-line"></div>
                    <div class="code-line var-usage">async function getUserData(userId) {</div>
                    <div class="code-line var-usage">  try {</div>
                    <div class="code-line var-usage">    // Try primary database</div>
                    <div class="code-line var-usage">    return await primaryDB.collection('users').findOne({ _id: userId });</div>
                    <div class="code-line var-usage">  } catch (error) {</div>
                    <div class="code-line var-usage">    // Fallback to cached data or secondary DB</div>
                    <div class="code-line var-usage">    console.log('Primary DB down, using fallback');</div>
                    <div class="code-line var-usage">    return await getFromCache(userId) || getBasicUserData(userId);</div>
                    <div class="code-line var-usage">  }</div>
                    <div class="code-line var-usage">}</div>
                    <div class="code-line"></div>
                    <div class="code-line comment">// System remains available even with partial failures</div>
                    <div class="code-line var-usage">const protectedGetUser = circuit(getUserData, dbOptions);</div>
                </div>
            </div>
        </div>

        <!-- Soft State Implementation -->
        <div id="soft-state" class="tab-content">
            <div class="code-container">
                <div class="code-block">
                    <div class="code-line comment">// Implementing Soft State with Time-based Data Changes</div>
                    <div class="code-line var-declaration">class SoftStateManager {</div>
                    <div class="code-line var-usage">  constructor() {</div>
                    <div class="code-line var-usage">    this.cache = new Map();</div>
                    <div class="code-line var-usage">    this.startBackgroundUpdates();</div>
                    <div class="code-line var-usage">  }</div>
                    <div class="code-line"></div>
                    <div class="code-line var-usage">  // Data state changes without external triggers</div>
                    <div class="code-line var-usage">  startBackgroundUpdates() {</div>
                    <div class="code-line var-usage">    setInterval(() => {</div>
                    <div class="code-line var-usage">      // Update trending scores based on time decay</div>
                    <div class="code-line var-usage">      this.cache.forEach((value, key) => {</div>
                    <div class="code-line var-usage">        if (value.type === 'trending') {</div>
                    <div class="code-line var-usage">          value.score = value.score * 0.95; // Decay factor</div>
                    <div class="code-line var-usage">          value.lastUpdated = Date.now();</div>
                    <div class="code-line var-usage">        }</div>
                    <div class="code-line var-usage">      });</div>
                    <div class="code-line var-usage">    }, 60000); // Every minute</div>
                    <div class="code-line var-usage">  }</div>
                    <div class="code-line"></div>
                    <div class="code-line var-usage">  // TTL (Time To Live) implementation</div>
                    <div class="code-line var-usage">  setWithTTL(key, value, ttl) {</div>
                    <div class="code-line var-usage">    const expiry = Date.now() + ttl;</div>
                    <div class="code-line var-usage">    this.cache.set(key, { ...value, expiry });</div>
                    <div class="code-line var-usage">    // Auto-cleanup expired data</div>
                    <div class="code-line var-usage">    setTimeout(() => this.cache.delete(key), ttl);</div>
                    <div class="code-line var-usage">  }</div>
                    <div class="code-line var-usage">}</div>
                </div>
            </div>
        </div>

        <!-- Eventual Consistency Implementation -->
        <div id="eventual-consistency" class="tab-content">
            <div class="code-container">
                <div class="code-block">
                    <div class="code-line comment">// Implementing Eventual Consistency with Message Queues</div>
                    <div class="code-line var-declaration">const Redis = require('redis');</div>
                    <div class="code-line var-declaration">const client = Redis.createClient();</div>
                    <div class="code-line"></div>
                    <div class="code-line var-usage">class EventualConsistencyManager {</div>
                    <div class="code-line var-usage">  async updateUserProfile(userId, changes) {</div>
                    <div class="code-line var-usage">    // 1. Update primary database immediately</div>
                    <div class="code-line var-usage">    await primaryDB.users.updateOne(</div>
                    <div class="code-line var-usage">      { _id: userId },</div>
                    <div class="code-line var-usage">      { $set: changes }</div>
                    <div class="code-line var-usage">    );</div>
                    <div class="code-line"></div>
                    <div class="code-line var-usage">    // 2. Queue updates for replica nodes</div>
                    <div class="code-line var-usage">    const updateEvent = {</div>
                    <div class="code-line var-usage">      type: 'USER_UPDATE',</div>
                    <div class="code-line var-usage">      userId,</div>
                    <div class="code-line var-usage">      changes,</div>
                    <div class="code-line var-usage">      timestamp: Date.now()</div>
                    <div class="code-line var-usage">    };</div>
                    <div class="code-line"></div>
                    <div class="code-line var-usage">    // Publish to different geographical regions</div>
                    <div class="code-line var-usage">    await client.publish('updates:us-east', JSON.stringify(updateEvent));</div>
                    <div class="code-line var-usage">    await client.publish('updates:europe', JSON.stringify(updateEvent));</div>
                    <div class="code-line var-usage">    await client.publish('updates:asia', JSON.stringify(updateEvent));</div>
                    <div class="code-line"></div>
                    <div class="code-line var-usage">    return { success: true, message: 'Update propagating...' };</div>
                    <div class="code-line var-usage">  }</div>
                    <div class="code-line"></div>
                    <div class="code-line var-usage">  // Background worker to process updates</div>
                    <div class="code-line var-usage">  startConsistencyWorker(region) {</div>
                    <div class="code-line var-usage">    client.subscribe(`updates:${region}`);</div>
                    <div class="code-line var-usage">    client.on('message', async (channel, message) => {</div>
                    <div class="code-line var-usage">      const event = JSON.parse(message);</div>
                    <div class="code-line var-usage">      await this.applyUpdate(region, event);</div>
                    <div class="code-line var-usage">    });</div>
                    <div class="code-line var-usage">  }</div>
                    <div class="code-line var-usage">}</div>
                </div>
            </div>
        </div>
    </div>

    <!-- CAP Theorem Connection -->
    <div class="demo-section" style="grid-column:1/-1;">
        <h2 class="demo-title">üî∫ BASE Properties and CAP Theorem</h2>
        <div class="explanation">
            The CAP theorem states that distributed systems can only guarantee two out of three properties: <strong>Consistency</strong>, <strong>Availability</strong>, and <strong>Partition Tolerance</strong>. BASE properties prioritize AP (Availability + Partition Tolerance) over immediate Consistency.
        </div>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-top: 1rem;">
            <div class="demo-card">
                <h3>üîÑ Consistency (C)</h3>
                <p>All nodes see the same data simultaneously.</p>
                <div style="color: #e74c3c;">‚ùå Sacrificed in BASE for better availability.</div>
            </div>
            
            <div class="demo-card">
                <h3>‚úÖ Availability (A)</h3>
                <p>System remains operational during failures.</p>
                <div style="color: #27ae60;">‚úÖ Prioritized in BASE systems.</div>
            </div>
            
            <div class="demo-card">
                <h3>üåê Partition Tolerance (P)</h3>
                <p>System continues despite network failures.</p>
                <div style="color: #27ae60;">‚úÖ Essential for NoSQL databases.</div>
            </div>
        </div>
    </div>

    <!-- SEO Footer Content -->
    <div class="demo-section" style="grid-column:1/-1;">
        <h2 class="demo-title">üìñ BASE Properties: Complete Guide</h2>
        <div style="background: #f8f9fa; padding: 2rem; border-radius: 8px;">
            <h3>What are BASE Properties in NoSQL Databases?</h3>
            <p>BASE properties guide the design of distributed NoSQL databases, prioritizing availability and partition tolerance over immediate consistency. Unlike ACID properties used in SQL databases, BASE is ideal for scalable, high-traffic applications.</p>
            
            <h3>When to Use BASE Properties?</h3>
            <ul>
                <li><strong>High-traffic applications:</strong> Social media platforms, content delivery networks.</li>
                <li><strong>Global distribution:</strong> Applications serving users across multiple continents.</li>
                <li><strong>Real-time systems:</strong> Chat apps, gaming platforms, live streaming.</li>
                <li><strong>Big data processing:</strong> Analytics platforms, log processing systems.</li>
            </ul>
            
            <h3>Popular NoSQL Databases Using BASE Properties</h3>
            <ul>
                <li><strong>MongoDB:</strong> Document-based database with eventual consistency.</li>
                <li><strong>Cassandra:</strong> Column-family database for high availability.</li>
                <li><strong>DynamoDB:</strong> Amazon's managed NoSQL with configurable consistency.</li>
                <li><strong>Redis:</strong> In-memory store with clustering support.</li>
            </ul>
            
        
        </div>
    </div>
</div>

<script>
// Demo Functions
function showBasicallyAvailable() {
    const resultsDiv = document.getElementById('baseResults');
    if (resultsDiv) {
        resultsDiv.innerHTML = `
            <div class="success-message">
                <strong>‚úÖ Basically Available - System Reliability</strong><br><br>
                <strong>Core Principle:</strong> Ensures system availability, responding even during partial failures or high load.<br><br>
                <strong>Real-world Example:</strong><br>
                ‚Ä¢ Netflix streams even if some servers fail.<br>
                ‚Ä¢ Users may see reduced quality but service continues.<br>
                ‚Ä¢ Fallback mechanisms ensure operation.<br><br>
                <strong>Technical Implementation:</strong><br>
                ‚Ä¢ Load balancers distribute traffic to healthy nodes.<br>
                ‚Ä¢ Circuit breakers prevent cascade failures.<br>
                ‚Ä¢ Graceful degradation maintains core functionality.<br><br>
                <strong>Trade-off:</strong> May serve slightly stale data for availability.
                <div class="message-time">${new Date().toLocaleTimeString()}</div>
            </div>
        `;
    }
}

function showSoftState() {
    const resultsDiv = document.getElementById('baseResults');
    if (resultsDiv) {
        resultsDiv.innerHTML = `
            <div class="success-message">
                <strong>üîÑ Soft State - Dynamic Data Evolution</strong><br><br>
                <strong>Core Principle:</strong> Data can change over time without explicit updates, reflecting distributed system dynamics.<br><br>
                <strong>Real-world Example:</strong><br>
                ‚Ä¢ Social media "like" counts fluctuate during activity.<br>
                ‚Ä¢ Trending topics decay over time.<br>
                ‚Ä¢ Cache entries expire automatically.<br><br>
                <strong>Technical Implementation:</strong><br>
                ‚Ä¢ Time-to-live (TTL) for data expiration.<br>
                ‚Ä¢ Background processes update metrics.<br>
                ‚Ä¢ Probabilistic data structures (e.g., bloom filters).<br><br>
                <strong>Benefits:</strong> Efficiently handles dynamic data.
                <div class="message-time">${new Date().toLocaleTimeString()}</div>
            </div>
        `;
    }
}

function showEventualConsistency() {
    const resultsDiv = document.getElementById('baseResults');
    if (resultsDiv) {
        resultsDiv.innerHTML = `
            <div class="success-message">
                <strong>‚è∞ Eventual Consistency - Convergent Data States</strong><br><br>
                <strong>Core Principle:</strong> Replicas converge to a consistent state over time, given no new updates.<br><br>
                <strong>Real-world Example:</strong><br>
                ‚Ä¢ DNS updates propagate globally (24-48 hours).<br>
                ‚Ä¢ Bank ATM balances sync across locations.<br>
                ‚Ä¢ Social media posts reach all followers‚Äô feeds.<br><br>
                <strong>Technical Implementation:</strong><br>
                ‚Ä¢ Asynchronous replication across nodes.<br>
                ‚Ä¢ Vector clocks for event ordering.<br>
                ‚Ä¢ Conflict resolution (e.g., last-writer-wins).<br><br>
                <strong>Guarantee:</strong> Consistency achieved over time.
                <div class="message-time">${new Date().toLocaleTimeString()}</div>
            </div>
        `;
    }
}

function clearDemo() {
    const resultsDiv = document.getElementById('baseResults');
    if (resultsDiv) {
        resultsDiv.innerHTML = '<div class="event-message one-message">Click above buttons to explore BASE properties!</div>';
    }
}

// Simulation Functions
let nodeStates = {
    node1: { online: true, userCount: 1000 },
    node2: { online: true, userCount: 1000 },
    node3: { online: true, userCount: 1000 }
};
let simulationStep = 0;

function simulateUserSignup() {
    const logDiv = document.getElementById('simulationLog');
    if (!logDiv) return;

    simulationStep++;
    nodeStates.node1.userCount++;
    const node1Data = document.getElementById('node1Data');
    if (node1Data) node1Data.textContent = `User Count: ${nodeStates.node1.userCount}`;
    
    logDiv.innerHTML += `<div>[${new Date().toLocaleTimeString()}] Step ${simulationStep}: New user registered on Node 1</div>`;
    
    setTimeout(() => {
        if (nodeStates.node2.online) {
            nodeStates.node2.userCount++;
            const node2Data = document.getElementById('node2Data');
            if (node2Data) node2Data.textContent = `User Count: ${nodeStates.node2.userCount}`;
            logDiv.innerHTML += `<div>[${new Date().toLocaleTimeString()}] ‚Üí Node 2 synchronized (Europe)</div>`;
        }
    }, 1000);
    
    setTimeout(() => {
        if (nodeStates.node3.online) {
            nodeStates.node3.userCount++;
            const node3Data = document.getElementById('node3Data');
            if (node3Data) node3Data.textContent = `User Count: ${nodeStates.node3.userCount}`;
            logDiv.innerHTML += `<div>[${new Date().toLocaleTimeString()}] ‚Üí Node 3 synchronized (Asia)</div>`;
            logDiv.innerHTML += `<div style="color: #27ae60;"><strong>‚úÖ Eventual consistency achieved!</strong></div><br>`;
        }
        logDiv.scrollTop = logDiv.scrollHeight;
    }, 2000);
}

function simulateNodeFailure() {
    const logDiv = document.getElementById('simulationLog');
    if (!logDiv) return;

    nodeStates.node2.online = false;
    const node2Status = document.getElementById('node2Status');
    if (node2Status) {
        node2Status.textContent = 'Status: OFFLINE';
        node2Status.style.color = '#e74c3c';
    }
    
    logDiv.innerHTML += `<div style="color: #e74c3c;">[${new Date().toLocaleTimeString()}] ‚ö†Ô∏è Node 2 (Europe) has failed!</div>`;
    logDiv.innerHTML += `<div>[${new Date().toLocaleTimeString()}] ‚úÖ System remains basically available (Nodes 1 & 3 serving users)</div><br>`;
    
    setTimeout(() => {
        nodeStates.node2.online = true;
        if (node2Status) {
            node2Status.textContent = 'Status: RECOVERED';
            node2Status.style.color = '#27ae60';
        }
        
        logDiv.innerHTML += `<div style="color: #27ae60;">[${new Date().toLocaleTimeString()}] üîÑ Node 2 recovered and syncing data...</div>`;
        
        nodeStates.node2.userCount = nodeStates.node1.userCount;
        const node2Data = document.getElementById('node2Data');
        if (node2Data) node2Data.textContent = `User Count: ${nodeStates.node2.userCount}`;
        logDiv.innerHTML += `<div>[${new Date().toLocaleTimeString()}] ‚úÖ Node 2 data synchronized</div><br>`;
        logDiv.scrollTop = logDiv.scrollHeight;
    }, 5000);
}

function resetSimulation() {
    nodeStates = {
        node1: { online: true, userCount: 1000 },
        node2: { online: true, userCount: 1000 },
        node3: { online: true, userCount: 1000 }
    };
    simulationStep = 0;
    
    const nodes = [
        { status: 'node1Status', data: 'node1Data' },
        { status: 'node2Status', data: 'node2Data' },
        { status: 'node3Status', data: 'node3Data' }
    ];
    
    nodes.forEach(node => {
        const statusEl = document.getElementById(node.status);
        const dataEl = document.getElementById(node.data);
        if (statusEl) {
            statusEl.textContent = 'Status: Ready';
            statusEl.style.color = '';
        }
        if (dataEl) dataEl.textContent = 'User Count: 1000';
    });
    
    const logDiv = document.getElementById('simulationLog');
    if (logDiv) logDiv.innerHTML = 'Simulation log will appear here...';
}

// Implementation Tabs
function showImplementation(impl) {
    const contents = document.querySelectorAll('.tab-content');
    const tabs = document.querySelectorAll('.tab');
    if (contents && tabs && event) {
        contents.forEach(c => c.classList.remove('active'));
        tabs.forEach(t => t.classList.remove('active'));
        const content = document.getElementById(impl);
        if (content) content.classList.add('active');
        event.target.classList.add('active');
    }
}

// Initialize
window.onload = function() {
    clearDemo();
    resetSimulation();
};
</script>
</body>
</html>
