<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SQL Transactions Interactive Demo | Fullstackgada</title>
  <meta name="description" content="Explore SQL Transactions with an interactive demo! Learn ACID properties, commit, rollback, and real-world examples with FullstackGada.">
  <meta name="author" content="Fullstackgada">
  <meta name="robots" content="index, follow">

  <!-- Canonical -->
  <link rel="canonical" href="https://fullstackgada.netlify.app/database/sql-transactions">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/image/favicon.ico">

  <!-- Styles -->
  <link rel="stylesheet" href="/interactive-demo.css">
  <link rel="preload" href="/interactive-demo.css" as="style">

  <!-- Open Graph Tags -->
  <meta property="og:title" content="SQL Transactions Interactive Demo | Fullstackgada">
  <meta property="og:description" content="Discover SQL Transactions with an interactive demo! Learn ACID properties, commit, rollback, and real-world database examples.">
  <meta property="og:url" content="https://fullstackgada.netlify.app/database/sql-transactions">
  <meta property="og:type" content="article">
  <meta property="og:image" content="https://fullstackgada.netlify.app/database/images/sql-transactions.webp">

  <!-- Twitter Card Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="SQL Transactions Interactive Demo | Fullstackgada">
  <meta name="twitter:description" content="Learn SQL Transactions with an interactive demo, covering ACID properties, commit, and rollback.">
  <meta name="twitter:image" content="https://fullstackgada.netlify.app/database/images/sql-transactions.webp">

  <!-- Article Schema Markup -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": "SQL Transactions Interactive Demo",
    "description": "Explore SQL Transactions with an interactive demo, covering ACID properties, commit, rollback, and real-world database examples.",
    "author": {
      "@type": "Person",
      "name": "Fullstackgada"
    },
    "url": "https://fullstackgada.netlify.app/database/sql-transactions",
    "datePublished": "2025-09-18",
    "dateModified": "2025-09-18",
    "publisher": {
      "@type": "Organization",
      "name": "Fullstackgada",
      "logo": {
        "@type": "ImageObject",
        "url": "https://fullstackgada.netlify.app/image/favicon.ico"
      }
    }
  }
  </script>

  <!-- FAQ Schema Markup -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What are SQL Transactions?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "SQL Transactions are sequences of one or more SQL operations executed as a single unit of work. They ensure data consistency and reliability by following ACID properties."
        }
      },
      {
        "@type": "Question",
        "name": "What are the ACID properties in SQL Transactions?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "ACID stands for Atomicity, Consistency, Isolation, and Durability. These properties guarantee reliable database transactions, ensuring data integrity even in case of failures."
        }
      },
      {
        "@type": "Question",
        "name": "What is the difference between COMMIT and ROLLBACK?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "COMMIT saves all changes made during the current transaction permanently to the database, while ROLLBACK undoes all changes, restoring the database to its previous state."
        }
      }
    ]
  }
  </script>
</head>

<body>
<div class="container">
    <!-- Header -->
    <div class="header-interactive" style="position:relative;">
        <h1>SQL Transactions Interactive Demo</h1>
        <p>Master SQL Transactions with Fullstackgada‚Äôs fun approach! üóÑÔ∏è</p>
        <div class="explore-diagrams-btn-wrapper">
            <a href="/interactive.html" class="explore-diagrams-btn">
                <img src="/image/plus-circle.svg" alt="More diagrams icon"> More Diagrams
            </a>
        </div>
        <div class="follow-btn-wrapper">
            <a href="https://www.instagram.com/fullstackgada" target="_blank" class="follow-btn">
                <img src="/image/instagram.svg" alt="Instagram icon"> Follow for More
            </a>
        </div>
    </div>

    <!-- Demo Grid -->
    <div class="demo-grid">
        <!-- Transaction Concepts -->
        <div class="demo-section">
            <h2 class="demo-title">üîÑ SQL Transactions Explorer</h2>
            <div class="explanation">
                <b>Transactions:</b> All or nothing! Update stock, add order, process payment‚Äîeither everything succeeds or nothing does.
            </div>
            <div class="demo-controls">
                <button class="demo-btn first-btn" onclick="startTransaction(true)">
                    ‚úÖ Successful Transaction
                </button>
                <button class="demo-btn" onclick="startTransaction(false)">
                    ‚ùå Transaction Error (Rollback)
                </button>
                <button class="demo-btn clear-btn" onclick="clearTransDemo()">
                    üîÑ Reset Demo
                </button>
            </div>
            <!-- Visual Transaction Steps -->
            <div class="memory-diagram" id="transSteps">
                <div class="memory-slot" id="step1">
                    <b>BEGIN</b> <br> (Start Transaction)
                </div>
                <div class="memory-slot" id="step2">
                    <b>Stock -1</b> <br> (Reduce Stock)
                </div>
                <div class="memory-slot" id="step3">
                    <b>Order Added</b> <br> (Insert Order)
                </div>
                <div class="memory-slot" id="step4">
                    <b>Payment</b> <br> (Process Payment)
                </div>
                <div class="memory-slot tdz" id="step5">
                    <b>Commit or Rollback?</b>
                </div>
            </div>
            <!-- Transaction Output -->
            <div class="demo-area" id="transOutput">
                <div class="event-message one-message">
                    <b>Demo:</b> Click the buttons above to see how transactions work!
                </div>
            </div>
        </div>

        <!-- Analogy Section -->
        <div class="demo-section">
            <h2 class="demo-title">üè† Wedding Ceremony Analogy</h2>
            <div class="saree-analogy">
                <h4>Transaction = Wedding Ceremony!</h4>
                <div class="saree-step">
                    <div class="saree-emoji">ü™î</div>
                    <div>Three rituals: <b>Haldi, Vows, Ring</b>... If one fails, the wedding is canceled (Rollback)!</div>
                </div>
                <div class="saree-step">
                    <div class="saree-emoji">üéâ</div>
                    <div>All rituals complete? <b>Commit</b> ‚Äì Wedding confirmed!</div>
                </div>
                <div class="saree-step">
                    <div class="saree-emoji">üò®</div>
                    <div>Power outage in the middle? Rollback ‚Äì Everything resets, as if nothing happened.</div>
                </div>
            </div>
            <div class="how-it-works">
                <h4>üí° Transaction Properties (ACID)</h4>
                <div class="step"><div class="step-number">A</div>Atomicity: All or nothing</div>
                <div class="step"><div class="step-number">C</div>Consistency: Data always follows rules</div>
                <div class="step"><div class="step-number">I</div>Isolation: Transactions are independent</div>
                <div class="step"><div class="step-number">D</div>Durability: Committed data is safe</div>
            </div>
        </div>
    </div>

    <!-- Transactional Tables and SQL -->
    <div class="demo-section">
        <h2 class="demo-title">üî¢ Example: Orders and Stock Tables</h2>
        <div class="tabs">
            <button class="tab active" onclick="showTab('orders-tab')">Orders</button>
            <button class="tab" onclick="showTab('stock-tab')">Stock</button>
            <button class="tab" onclick="showTab('sql-tab')">SQL Transaction</button>
        </div>
        <div id="orders-tab" class="tab-content active">
            <h4>üõí Orders Table</h4>
            <table class="responsive-table">
                <thead>
                    <tr>
                        <th>OrderID</th>
                        <th>Product</th>
                        <th>Qty</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody id="ordersRows">
                </tbody>
            </table>
        </div>
        <div id="stock-tab" class="tab-content">
            <h4>üì¶ Stock Table</h4>
            <table class="responsive-table">
                <thead>
                    <tr>
                        <th>Product</th>
                        <th>StockLeft</th>
                    </tr>
                </thead>
                <tbody id="stockRows">
                </tbody>
            </table>
        </div>
        <div id="sql-tab" class="tab-content">
            <h4>üíª SQL Transaction Example</h4>
            <div class="code-block" id="sqlDemo">
<pre>
BEGIN;
/* Step 1: Reduce stock */
UPDATE Stock SET count = count - 1 WHERE product='Soap';

/* Step 2: Insert order */
INSERT INTO Orders(product, qty, status) VALUES ('Soap', 1, 'Pending');

/* Step 3: Payment */
-- Imagine payment step here

/* All good */
COMMIT;

/* If an error occurs */
ROLLBACK;
</pre>
            </div>
            <div class="explanation">
                <b>Only COMMIT saves data!</b> If an error occurs, ROLLBACK reverts everything.
            </div>
        </div>
    </div>
</div>

<script>
/** "Database" data for Orders/Stock demo **/
let stockTable = [{product:"Soap", count:5}, {product:"Shampoo", count:3}];
let ordersTable = [
    {orderid: 1, product: "Soap", qty: 1, status:"Delivered" }, 
    {orderid: 2, product: "Shampoo", qty: 1, status:"Delivered" }
];

function renderTables() {
    // Orders
    let orderHtml = '';
    ordersTable.forEach(o=>{
        orderHtml += `<tr>
            <td>${o.orderid}</td>
            <td>${o.product}</td>
            <td>${o.qty}</td>
            <td>${o.status}</td>
        </tr>`;
    });
    document.getElementById("ordersRows").innerHTML = orderHtml || "<tr><td colspan='4'>No Orders</td></tr>";
    // Stock
    let stockHtml = '';
    stockTable.forEach(s=>{
        stockHtml += `<tr>
            <td>${s.product}</td>
            <td>${s.count}</td>
        </tr>`;
    });
    document.getElementById("stockRows").innerHTML = stockHtml;
}
renderTables();

/** Transaction Simulation **/
function startTransaction(success) {
    // Reset visuals
    document.querySelectorAll('.memory-slot').forEach(e=>e.classList.remove('error','hoisted','tdz'));
    // Step 1: Begin
    document.getElementById('step1').classList.add('hoisted');
    document.getElementById('transOutput').innerHTML = "<div class='event-message one-message'>Transaction started...<br>BEGIN;</div>";

    setTimeout(()=>{
        // Step 2: Stock minus
        document.getElementById('step2').classList.add('hoisted');
        stockTable[0].count--;
        renderTables();
        document.getElementById('transOutput').innerHTML += "<div class='event-message one-message'>Stock reduced!</div>";
        
        setTimeout(()=>{
            // Step 3: Order insert
            document.getElementById('step3').classList.add('hoisted');
            let nextId = ordersTable.length ? Math.max(...ordersTable.map(o=>o.orderid))+1 : 1;
            ordersTable.push({orderid: nextId, product:"Soap", qty:1, status:"Pending"});
            renderTables();
            document.getElementById('transOutput').innerHTML += "<div class='event-message one-message'>Order added!</div>";
            
            setTimeout(()=>{
                // Step 4: Payment
                document.getElementById('step4').classList.add('hoisted');
                document.getElementById('transOutput').innerHTML += "<div class='event-message one-message'>Payment processing...</div>";
                
                setTimeout(()=>{
                    // Step 5: Final
                    document.getElementById('step5').classList.remove('tdz');
                    if(success){
                        document.getElementById('step5').classList.add('hoisted');
                        ordersTable[ordersTable.length-1].status="Delivered";
                        renderTables();
                        document.getElementById('transOutput').innerHTML += "<div class='event-message one-message'><b>COMMIT; All steps succeeded ‚Äî Data saved!</b></div>";
                    } else {
                        document.getElementById('step5').classList.add('error');
                        // ROLLBACK: revert stock, remove order
                        stockTable[0].count++;
                        ordersTable.pop();
                        renderTables();
                        document.getElementById('transOutput').innerHTML += "<div class='event-message two-message'><b>ERROR! System crashed ‚Äî ROLLBACK; <br>Everything reverted, as if nothing happened.</b></div>";
                    }
                },700);
            },700);
        },700);
    },600);
}

/* Reset Transaction Demo */
function clearTransDemo(){
    // Reset data
    stockTable = [{product:"Soap", count:5}, {product:"Shampoo", count:3}];
    ordersTable = [
        {orderid: 1, product: "Soap", qty: 1, status:"Delivered" }, 
        {orderid: 2, product: "Shampoo", qty: 1, status:"Delivered" }
    ];
    renderTables();
    // Reset visuals
    document.querySelectorAll('.memory-slot').forEach(e=>e.classList.remove('error','hoisted','tdz'));
    document.getElementById('step5').classList.add('tdz');
    document.getElementById('transOutput').innerHTML = "<div class='event-message one-message'><b>Demo:</b> Click the buttons above to see how transactions work!</div>";
}

/* Tabs */
function showTab(tabName) {
    let tabs = document.querySelectorAll('.tab-content');
    tabs.forEach(t=>t.classList.remove('active'));
    document.getElementById(tabName).classList.add('active');
    let tabBtns = document.querySelectorAll('.tab');
    tabBtns.forEach(t=>t.classList.remove('active'));
    event.target.classList.add('active');
}
</script>
</body>
</html>