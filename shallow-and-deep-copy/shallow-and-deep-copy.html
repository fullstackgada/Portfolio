<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shallow Copy & Deep Copy ka Funda - Fullstackgada Interactive Demo</title>
    <link rel="icon" type="image/png" href="/image/favicon.ico">
    <link rel="stylesheet" href="/interactive-demo.css">
    <style>
        .object-visual { font-family: monospace; background: #f9fafb; border-radius: 8px; padding:8px 21px; margin:6px 0;}
        .object-ref   { color: #f56565; font-size: 0.93em; }
        .object-copy  { color: #27ae60; font-size: 0.93em; }
        .object-new   { color: #6649b8; font-size: 0.93em; }
    </style>
</head>
<body>
<div class="container">
    <div class="header-interactive" style="position:relative;">
        <h1>Shallow Copy & Deep Copy ka Funda</h1>
        <p>Understand how Shallow Copy & Deep Copy works with Fullstackgada</p>
       <div class="explore-diagrams-btn-wrapper">
            <a href="/interactive.html" class="explore-diagrams-btn">
                <img src="/image/plus-circle.svg" alt="Instagram icon"> More Diagrams
            </a>
        </div>
       <div class="follow-btn-wrapper">
            <a href="https://www.instagram.com/fullstackgada" target="_blank" class="follow-btn">
    <img src="/image/instagram.svg" alt="Instagram icon"> Follow for More
</a>
        </div>
    </div>

    <div class="demo-grid">
        <!-- Concept Panel -->
        <div class="demo-section">
            <h2 class="demo-title">ü™û Shallow vs Deep Copy Explained</h2>
            <div class="explanation">
                <strong>Shallow Copy:</strong> Upari satah ki nakal. Nested objects <span class="object-ref">(reference se judte hain)</span> <br>
<strong>Deep Copy:</strong> Har layer alag nayi banti hai <span class="object-new">(poora disconnect)</span>

            </div>
            <div class="saree-analogy">
                <h4>‚ù§Ô∏è DP vala pyar vs Assli Connection</h4>
                <div class="saree-step">
                    <div class="saree-emoji">üñºÔ∏è</div>
                    <div><strong>Shallow Copy:</strong> Popatlal sirf DP dekh ke fida...<br><span class="object-ref">Sirf upar-upar se copy ‚Äî andar to DP ka hi link hota hai!

</span></div>
                </div>
                <div class="saree-step"><div class="saree-emoji">üíç</div><div>
                  <strong>Deep Copy:</strong> pure insan se "assli connection"<br>
                  <span class="object-new">har level pe agla naata, koi sharing nahi!</span>
                </div></div>
            </div>
            <div class="demo-controls">
                <button class="demo-btn first-btn" onclick="visualShallow()"> Shallow Copy</button>
                <button class="demo-btn" onclick="visualDeep()"> Deep Copy</button>
                <button class="demo-btn clear-btn" onclick="clearConcept()">üóëÔ∏è Clear</button>
            </div>
            <div class="demo-area" id="copyConcept">
                <div class="event-message one-message">
                    Click above buttons to see reference effects visually!
                </div>
            </div>
        </div>

        <!-- Playground Panel -->
        <div class="demo-section">
            <h2 class="demo-title">üéØ Try Yourself (Live JS Playground)</h2>
            <div class="explanation one-explanation">
                <strong>Original Object:</strong>
                <div class="object-visual" id="originalObject"></div>
            </div>
            <div class="demo-controls">
                <button class="demo-btn first-btn" onclick="copyShallow()">Shallow Copy</button>
                <button class="demo-btn" onclick="copyDeep()">Deep Copy</button>
                <button class="demo-btn clear-btn" onclick="resetPlayground()">Reset</button>
            </div>
            <div class="demo-area" id="playgroundArea">
                <div class="event-message one-message">Click to copy & edit clones. Watch the effect on original & copy!</div>
            </div>
        </div>
    </div>

    <!-- Code, Analogy, Comparison & Conversation -->
    <div class="demo-section" style="grid-column:1/-1;">
        <h2 class="demo-title">üíª JS Code Shallow & Deep Copy</h2>
        <div class="tabs">
            <button class="tab active" onclick="showTab('js-shallow')">Shallow Copy Code</button>
            <button class="tab" onclick="showTab('js-deep')"> Deep Copy Code</button>
        </div>
        <div id="js-shallow" class="tab-content active">
            <div class="code-block">
                <div class="code-line comment">// SHALLOW COPY</div>
                <div class="code-line var-declaration">let original = { name: "Babita", address: { city: "Gokuldham" } };</div>
                <div class="code-line var-usage">let shallow = { ...original };</div>
                <div class="code-line var-usage">shallow.address.city = "Powai";</div>
                <div class="code-line var-usage">console.log(original.address.city); <span class="object-ref">// üëâ "Powai"</span></div>
                <div class="code-line comment">// address SHARED ‡§π‡•à!</div>
            </div>
        </div>
        <div id="js-deep" class="tab-content">
            <div class="code-block">
                <div class="code-line comment">// DEEP COPY</div>
                <div class="code-line var-declaration">let original = { name: "Babita", address: { city: "Gokuldham" } };</div>
                <div class="code-line var-usage">let deep = JSON.parse(JSON.stringify(original));</div>
                <div class="code-line var-usage">deep.address.city = "Juhu";</div>
                <div class="code-line var-usage">console.log(original.address.city); <span class="object-new">// üëâ "Gokuldham"</span></div>
                <div class="code-line comment">// address ‡§Ø‡•á ‡§¨‡§æ‡§∞ ‡§®‡§Ø‡§æ ‡§¨‡§®‡§æ!</div>
            </div>
        </div>
    </div>

    <div class="comparison-section">
    <h3>üìä Shallow vs Deep Copy (Quick Comparison)</h3>
    <table class="comparison-table responsive-table">
        <thead>
            <tr>
                <th>Aspect</th>
                <th>Shallow Copy</th>
                <th>Deep Copy</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Top-level properties</td>
                <td>‡§®‡§Ø‡§æ object</td>
                <td>‡§®‡§Ø‡§æ object</td>
            </tr>
            <tr>
                <td>Nested objects/arrays</td>
                <td>SHARED <span class="object-ref">(reference)</span></td>
                <td>‡§®‡§Ø‡§æ, INDEPENDENT <span class="object-new">(deep clone)</span></td>
            </tr>
            <tr>
                <td>Mutation effect</td>
                <td>References affect both</td>
                <td>Copy is fully separate</td>
            </tr>
            <tr>
                <td>Best for</td>
                <td>Flat objects, surface updates</td>
                <td>Changing ANY nested property freely</td>
            </tr>
            <tr>
                <td>Methods</td>
                <td><code>‚Ä¶spread</code>, <code>Array.slice()</code>, <code>Object.assign()</code></td>
                <td><code>JSON.parse(JSON.stringify(obj))</code>, recursive function, <br>structuredClone (modern)</td>
            </tr>
        </tbody>
    </table>
    </div>

   
</div>

<script>
/* ----------- Analogy and Concept Visualisation ----------- */
function visualShallow() {
  document.getElementById('copyConcept').innerHTML = `
    <div class="object-visual">
      <strong>original</strong> = <span style="color:#1111ff">{ name: "Babita", address: { city: <b>"Gokuldham"</b> } }</span><br>
      <strong>shallow</strong> &nbsp;= { ...original } <span class="object-copy"> (SPREAD)</span>
      <div style="margin-top:8px;">
        <strong>‚è© Both share the same <b>address</b> object!<br>
        <span class="object-ref">Changing shallow.address.city ALSO changes original.address.city</span><br>
        <span style="color:#e7701c">Shallow copy is "surface only"</span></strong>
      </div>
    </div>
    <div style="text-align:center;">Try in Playground below ‚¨áÔ∏è</div>
  `;
}
function visualDeep() {
  document.getElementById('copyConcept').innerHTML = `
    <div class="object-visual">
      <strong>original</strong> = { name: "Babita", address: { city: <b>"Gokuldham"</b> } }<br>
      <strong>deep</strong> &nbsp;= JSON.parse(JSON.stringify(original))
      <div style="margin-top:8px;">
        <strong><span class="object-new">Now address is <u>a NEW object</u>!</span><br>
        Changing deep.address.city <span class="object-new">does NOT</span> touch original.address.city.<br>
        <span style="color:#209800">Deep copy clones all nested levels.</span></strong>
      </div>
    </div>
    <div style="text-align:center;">Try in Playground below ‚¨áÔ∏è</div>
  `;
}
function clearConcept() {
  document.getElementById('copyConcept').innerHTML =
    `<div class="event-message one-message">
        Click above buttons to see reference effects visually!
     </div>`;
}

/* ------------ Playground (Live example) ------------ */
let originalObj, shallowObj, deepObj;

function fillOriginal() {
  originalObj = { name: "Babita", address: { city: "Gokuldham" } };
  document.getElementById('originalObject').textContent =
    JSON.stringify(originalObj, null, 2);
}

// Helper
function renderPlayground(msg, objectStateHtml) {
  document.getElementById('playgroundArea').innerHTML = `
    <div>${msg}</div>
    <div style="margin-top:0.7rem;">
      ${objectStateHtml}
    </div>
    <div style="margin-top:1.2rem; display:grid; justify-content:center; align-items:center; gap:0.5rem;">
      <button class="demo-btn" onclick="modifyCopyCity('shallow')">Change shallow.address.city</button>
      <button class="demo-btn" onclick="modifyCopyCity('deep')">Change deep.address.city</button>
      <button class="demo-btn" onclick="modifyOriginalCity()">Change original.address.city</button>
    </div>
  `;
}

function copyShallow() {
  shallowObj = { ...originalObj };
  deepObj = null;
  renderPlayground(
    `<b>Shallow copy created!</b><br>
    <strong>shallow = { ...original }</strong>`,
    `
    <div class="object-visual"><strong>original:&nbsp;</strong>${JSON.stringify(originalObj)}<br>
    <strong>shallow:&nbsp;&nbsp;</strong>${JSON.stringify(shallowObj)}<br>
    <span class="object-ref">(address object is SHARED)</span></div>
    `
  );
}
function copyDeep() {
  deepObj = JSON.parse(JSON.stringify(originalObj));
  shallowObj = null;
  renderPlayground(
    `<b>Deep copy created!</b><br>
    <strong>deep = JSON.parse(JSON.stringify(original))</strong>`,
    `
    <div class="object-visual"><strong>original:&nbsp;</strong>${JSON.stringify(originalObj)}<br>
    <strong>deep:&nbsp;&nbsp;&nbsp;&nbsp;</strong>${JSON.stringify(deepObj)}<br>
    <span class="object-new">(address object is now INDEPENDENT)</span></div>
    `
  );
}
function modifyCopyCity(which) {
  if (which==="shallow" && shallowObj) {
    shallowObj.address.city = prompt("New city for shallow.address.city?", shallowObj.address.city) || 'Powai';
    renderPlayground(
      '<b>Changed shallow.address.city</b>, watch effect on original!',
      `
      <div class="object-visual"><strong>original:</strong> ${JSON.stringify(originalObj)}<br>
      <strong>shallow:</strong> ${JSON.stringify(shallowObj)}<br>
      <span class="object-ref">(address is shared ‚Äì so BOTH changed!)</span></div>
      `
    );
  } else if (which==="deep" && deepObj) {
    deepObj.address.city = prompt("New city for deep.address.city?", deepObj.address.city) || 'Juhu';
    renderPlayground(
      '<b>Changed deep.address.city</b>, watch: original is untouched!',
      `
      <div class="object-visual"><strong>original:</strong> ${JSON.stringify(originalObj)}<br>
      <strong>deep:</strong> ${JSON.stringify(deepObj)}<br>
      <span class="object-new">(deep.address is INDEPENDENT)</span></div>
      `
    );
  }
}
function modifyOriginalCity() {
  originalObj.address.city = prompt("New city for original.address.city?", originalObj.address.city) || 'Andheri';
  renderPlayground(
    '<b>Changed original.address.city</b>, see effect on shallow/deep!',
    `
    <div class="object-visual"><strong>original:</strong> ${JSON.stringify(originalObj)}<br>
    <strong>shallow:</strong> ${shallowObj ? JSON.stringify(shallowObj) : '--'}<br>
    <strong>deep:</strong> ${deepObj ? JSON.stringify(deepObj) : '--'}<br>
    <span class="object-ref">With shallow, both change! With deep, only original changes.</span></div>
    `
  );
}
function resetPlayground() {
  fillOriginal();
  document.getElementById('playgroundArea').innerHTML =
    `<div class="event-message one-message">Click to copy & edit clones. Watch the effect on original & copy!</div>`;
  shallowObj = deepObj = null;
}

/* ------------ Tabs ------------ */
function showTab(tab) {
  document.getElementById('js-shallow').classList.remove('active');
  document.getElementById('js-deep').classList.remove('active');
  document.querySelectorAll('.tab').forEach(btn => btn.classList.remove('active'));
  document.getElementById(tab).classList.add('active');
  event.target.classList.add('active');
}


/* ------------ Init ------------ */
window.onload = function() {
  clearConcept();
  fillOriginal();
  resetPlayground();
};
</script>
</body>
</html>
